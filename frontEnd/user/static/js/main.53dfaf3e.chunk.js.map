{"version":3,"sources":["config.js","services/http.js","services/apiCall.js","services/functions.js","components/makeReservation.js","components/stars.js","components/tags.js","components/price.js","components/productCard.js","components/invoice.js","components/updateReservation.js","components/reservationCard.js","components/list.js","components/hamburger.js","components/filters.js","components/header.js","components/product.js","components/user.js","components/reservation.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","site202131Url","axios","create","baseURL","config","headers","withCredentials","http","get","email","password","body","post","id","query","filter","sort","bookings","data","reservationId","delete","convertDateToObject","date","day","getDate","toString","month","getMonth","year","getFullYear","datediff","first","second","Math","round","isInArray","array","find","item","Date","getTime","convertToDate","index","dates","startDate","parseInt","endDate","currentDate","push","addDays","prototype","days","this","valueOf","setDate","MakeReservation","props","datesInTime","map","val","state","value","fixedPrice","finalFixedPrice","variablePrice","originalVariablePrice","variableDiscount","product","isAuthenticated","show","loading","done","priceCalculator","bind","handleClose","handleShow","disabledDays","checkDateRange","makeReservation","variableTotalPrice","onSale","onSaleType","onSaleValue","parseFloat","toFixed","setState","window","location","reload","includes","range","length","ApiCall","getUser","then","getUserResult","reservation","clientEmail","clientName","userName","clientSurname","userSurname","productId","_id","productTitle","title","productBrand","brand","productImage","image","bookingDate","isTaken","isReturned","totalPrice","price","fixedDiscount","discount","overDays","description","note","postReservation","PostReservationResult","newBooking","clientId","total","oldBookings","postProduct","catch","nextProps","className","Box","LocalizationProvider","dateAdapter","AdapterDateFns","MobileDateRangePicker","disablePast","shouldDisableDate","startText","endText","onChange","newValue","renderInput","startProps","endProps","Fragment","TextField","sx","mx","inputFormat","Button","disabled","onClick","event","preventDefault","href","Modal","onHide","backdrop","keyboard","centered","Body","Spinner","variant","animation","role","Footer","React","Component","Stars","quality","Rating","name","max","readOnly","Tags","lista","tags","tag","Badge","pill","bg","Price","originalFixedPrice","discountedFixedPrice","discountedFixdedPrice","style","textDecorationLine","color","ProductCard","Accordion","Item","eventKey","Header","width","height","maxHeight","maxWidth","src","alt","textAlign","available","styles","StyleSheet","paddingTop","paddingBottom","paddingHorizontal","fontSize","fontFamily","author","marginBottom","subtitle","margin","text","marginVertical","marginHorizontal","header","pageNumber","position","bottom","left","right","Invoice","fixed","break","render","totalPages","UpdateReservation","showEditModal","showLoadingModal","error","isEditing","updateReservation","deleteReservation","e","String","removeDate","newDates","closeButton","Title","ReservationCard","status","getProduct","result","obj","finalVariablePrice","List","elements","type","element","Hamburger","logout","Cookie","remove","Nav","navbarScroll","Link","Form","onSubmit","search","target","searchInput","FormControl","placeholder","Filters","filter1","choise1","filter2","choise2","overflowX","Dropdown","Toggle","Menu","renderOnMount","active","Navbar","expand","Container","fluid","Brand","padding","Collapse","Product","products","filteredProducts","searchProducts","showProducts","sortProducts","console","log","getAllProduct","isAvailable","isIncreasing","a","b","reverse","User","switchModifying","boolModifying","handleSubmit","tmp","querySelectorAll","address","addressCity","addressStreet","addressNumber","payment","cardName","cardSurname","cardExpireYear","newExprYear","cardExpireMonth","newExprMonth","cardType","newCardType","cardCVV","i","userSex","newSex","sex","userPayment","newBirthday","userBirthday","birthday","userId","userPhoneNumber","userEmail","userAddress","street","number","city","yearList","key","monthList","isAuth","handleChange","apiCall","phoneNumber","Group","Label","Control","Select","as","Col","x","split","Row","xs","Reservation","reservations","filteredReservations","searchReservations","showReservations","sortReservations","getAllReservation","filteredReservation","App","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.53dfaf3e.chunk.js","sourcesContent":["const config = {\n    site202131Url: \"http://localhost:8081\",\n    // site202131Url: \"http://site202131.tw.cs.unibo.it\",\n}\n\nmodule.exports = config","import axios from \"axios\";\nimport config from './../config';\n\nexport default axios.create({\n  baseURL: config.site202131Url,\n  headers: {\n    \"Content-type\": \"application/json\",\n    \"dataType\": \"jsonp\",\n    withCredentials: true\n  }\n});","import http from './http'\n\nclass ApiCall {\n    \n    test() {\n        return http.get('/test');\n    }\n\n    // Chiamate alle API generiche\n    login(email, password) {\n        const body = {\n            'email': email,\n            'plainTextPassword': password\n        }\n        return http.post('/api/public/login', body);\n    }\n\n    // Chiamate alle API sul cliente autenticato\n    getUser(id) {\n        const query = id ? '?id=' + id : '';\n        return http.get('/api/user/' + query)\n    }\n\n    postUser(id, query) {\n        if(id != null) {\n            return http.post('/api/user?id=' + id, query)\n        } else {\n            return http.post('/api/user', query)\n        }\n        \n    }\n\n    // Chiamate alle API sui prodotti\n    getProduct(id) {\n        return http.get('/api/product/?id=' + id)\n    }\n\n    getAllProduct(filter, sort) {\n        return http.get('/api/product/all' + '?filter=' + filter + '&&sort=' + sort)\n    }\n\n    postProduct(id, bookings) {\n        return http.post('/api/product/?id=' + id, bookings);\n    }\n\n    // Chiamate alle API sulle prenotazioni\n    // getReservation(id) {\n    //     return http.get('/api/reservation/?id=' + id)\n    // }\n\n    getAllReservation(filter, sort) {\n        return http.get('/api/reservation/all' + '?filter=' + filter + '&&sort=' + sort);\n    }\n\n    postReservation(id, data) {\n        if(id == null) {\n            return http.post('/api/reservation', data);\n        } else {\n            return http.post('/api/reservation' + '?id=' + id, data);\n        }\n        \n    }\n    \n    deleteReservation(reservationId) {\n        return http.delete('/api/reservation?id=' + reservationId);\n    }\n}\n\nexport default new ApiCall();","// Metodo per incrementare una data\nDate.prototype.addDays = function(days) {\n    var date = new Date(this.valueOf());\n    date.setDate(date.getDate() + days);\n    return date;\n}\n\n// Metodo che converte una data in un oggetto JSON\nexport function convertDateToObject(date) {\n    return {\n        day: date.getDate().toString(),\n        month: (date.getMonth() + 1).toString(),\n        year: date.getFullYear().toString()\n    }\n}\n  \n// Metodo che calcola la differenza di due giorni\nexport function datediff(first, second) {\n    return Math.round((second - first) / (1000 * 60 * 60 * 24)) + 1;\n}\n\n// Metodo che cerca se una data (date) è all'interno di un array di date\nexport function isInArray(array, date) {\n    let element;\n    return !!array.find(item => {\n        element = new Date(item);\n        return element.getTime() == date.getTime()\n    });\n}\n\n// Metodo per convertire le prenotazioni (array) di un array (dates) di date\n// nei quali il prodotto non è prenotato. Una prenotazione ha una data di\n// inizio e di fine.\nexport function convertToDate(array) {\n    let index = 0;\n    let dates = [];\n    // Cicla sulle prenotazioni di un prodotto\n    for(index in array) {\n        // Cattura la data d'inizio di una prenotazione\n        const startDate = new Date(\n        parseInt(array[index].startDate.year),\n        parseInt(array[index].startDate.month) - 1,\n        parseInt(array[index].startDate.day)\n        );\n        // Cattura la data di fine di una prenotazione\n        const endDate = new Date(\n        parseInt(array[index].endDate.year),\n        parseInt(array[index].endDate.month) - 1,\n        parseInt(array[index].endDate.day)\n        );\n        // Aggiunge nell'array le date nell'intervallo\n        let currentDate = startDate;\n        while (currentDate <= endDate) {\n        dates.push(new Date (currentDate));\n        currentDate = currentDate.addDays(1);\n        }\n    }\n    return dates;\n}","import React from 'react'\n\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\nimport Box from '@mui/material/Box';\nimport LocalizationProvider from '@mui/lab/LocalizationProvider';\nimport MobileDateRangePicker from '@mui/lab/MobileDateRangePicker';\nimport TextField from '@mui/material/TextField';\n\nimport { Button, Modal, Spinner } from 'react-bootstrap';\n\nimport ApiCall from '../services/apiCall';\nimport { convertDateToObject, datediff, isInArray, convertToDate } from '../services/functions';\n\nexport class MakeReservation extends React.Component {\n  constructor(props) {\n    super(props);\n\n    const datesInTime = convertToDate(props.bookings).map((val) => {\n      return val.getTime();\n    });\n\n    this.state = {\n      // Date range picker\n      value: [null, null],\n      dates: datesInTime,\n      // Product\n      bookings: props.bookings,\n      fixedPrice: props.finalFixedPrice,\n      variablePrice: props.originalVariablePrice,\n      variableDiscount: props.variableDiscount,\n      product: props.product,\n      // Authorization\n      isAuthenticated: props.isAuthenticated,\n      // Modal\n      show: false,\n      loading: true,\n      done: false\n    }\n    // Price\n    this.priceCalculator = this.priceCalculator.bind(this);\n    // Modal\n    this.handleClose = this.handleClose.bind(this);\n    this.handleShow = this.handleShow.bind(this);\n    // Date range picker\n    this.disabledDays = this.disabledDays.bind(this);\n    // Update reservation button\n    this.checkDateRange = this.checkDateRange.bind(this);\n    // API call\n    this.makeReservation = this.makeReservation.bind(this);\n  }\n\n  priceCalculator() {\n    if((this.state.value[0] && this.state.value[1])) {\n      if(this.state.variableDiscount.onSale == true && datediff(this.state.value[0], this.state.value[1]) > this.state.variableDiscount.days) {\n        let variableTotalPrice\n        if(this.state.variableDiscount.onSaleType == true) {\n          variableTotalPrice = (datediff(this.state.value[0], this.state.value[1]) * this.state.variablePrice) * (100 - this.state.variableDiscount.onSaleValue) / 100;\n        } else {\n          variableTotalPrice = (datediff(this.state.value[0], this.state.value[1]) * this.state.variablePrice) - this.state.variableDiscount.onSaleValue;\n        }\n        return (parseFloat(this.state.fixedPrice) + variableTotalPrice).toFixed(2);\n      } else {\n        return (parseFloat(this.state.fixedPrice) + (datediff(this.state.value[0], this.state.value[1]) * this.state.variablePrice)).toFixed(2)\n      }\n    } else {\n      return '0.00'\n    }\n  }\n\n  handleClose() {\n    this.setState({\n      show: false\n    });\n    window.location.reload(false);\n  }\n  \n  handleShow() {\n    this.setState({\n      show: true\n    });\n  }\n\n  disabledDays(date) {\n    if(this.state.dates == null) {\n      return null;\n    }\n    return this.state.dates.includes(date.getTime());\n  }\n\n  checkDateRange(range) {\n    if(range.length == 2 && this.state.dates != null && range[0] && range[1]) {\n      if(range[0] > range[1] || range[0].toString() == 'Invalid Date' || range[1].toString() == 'Invalid Date') {\n        return false;\n      } else {\n        let currentDate = range[0];\n        let endDate = range[1];\n        while(currentDate <= endDate) {\n          if(isInArray(this.state.dates, currentDate) == true) {\n            return false;\n          }\n          currentDate = currentDate.addDays(1);\n        }\n        return true;\n      }\n    } else {\n      return false;\n    }\n  }\n\n  makeReservation() {\n    this.setState({\n      loading: true\n    });\n    this.handleShow();\n\n    // Cerca le informazioni dell'utente\n    ApiCall.getUser().then((getUserResult) => {\n      // Crea la prenotazione\n      const reservation = {\n        clientEmail: getUserResult.data.data.email,\n        clientName: getUserResult.data.data.userName,\n        clientSurname: getUserResult.data.data.userSurname,\n        productId: this.state.product._id,\n        productTitle: this.state.product.title,\n        productBrand: this.state.product.brand,\n        productImage: this.state.product.image,\n        bookingDate: convertDateToObject(new Date()),\n        startDate: convertDateToObject(this.state.value[0]),\n        endDate: convertDateToObject(this.state.value[1]),\n        isTaken: false,\n        isReturned: false,\n        totalPrice: this.priceCalculator(),\n        fixedPrice: this.state.product.fixedPrice,\n        variablePrice: this.state.product.price,\n        fixedDiscount: this.state.product.discount,\n        variableDiscount: this.state.product.overDays,\n        description: '',\n        note: ''\n      }\n      // Aggiunge la prenotazione\n      ApiCall.postReservation(null, reservation).then((PostReservationResult) => {\n        // Modifica delle prenotazioni del prodotto\n        let newBooking = {\n          productId: this.state.product._id,\n          clientId: getUserResult.data.data.email,\n          reservationId: PostReservationResult.data.data._id,\n          startDate: convertDateToObject(this.state.value[0]),\n          endDate: convertDateToObject(this.state.value[1]),\n          total: this.priceCalculator()\n        }\n        let oldBookings = this.state.bookings;\n        oldBookings.push(newBooking);\n        // Aggiorna le prenotazioni del prodotto\n        ApiCall.postProduct(this.state.product._id, { bookings: oldBookings }).then(() => {\n          // OK\n          this.setState({\n            loading: false,\n            done: true\n          });\n        }).catch(() => {\n          this.setState({\n            loading: false,\n            done: false\n          });\n        });\n      });\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({\n      isAuthenticated: nextProps.isAuthenticated\n    });  \n  }\n\n  render() {\n    return (\n      <div\n      className='pb-0 mt-2'>\n        <Box className=\"d-flex justify-content-center mb-2\">\n          <LocalizationProvider\n          dateAdapter={AdapterDateFns}>\n            <MobileDateRangePicker\n            disablePast\n            shouldDisableDate={this.disabledDays}\n            startText='Data di inizio'\n            endText='Data di fine'\n            value={this.state.value}\n            onChange={(newValue) => {\n              this.setState({\n                value: newValue\n              });\n            }}\n            renderInput={(startProps, endProps) => (\n              <React.Fragment>\n                <TextField {...startProps}/>\n                <Box\n                sx={{ mx: 1 }}>\n                  a\n                </Box>\n                <TextField {...endProps}/>\n              </React.Fragment>\n            )}\n            inputFormat='dd/MM/yyyy'/>\n          </LocalizationProvider>\n        </Box>\n        <div className='row'>\n          <div className='col-8'>\n            Giorni di noleggio:\n          </div>\n          <div\n          className='col-4 text-end'>\n            {this.checkDateRange(this.state.value) ? datediff(this.state.value[0], this.state.value[1]) : 0 }\n          </div>\n        </div>\n        <div className='row mb-2'>\n          <div className='col-8'>\n            Prezzo totale:\n          </div>\n          <div className='col-4 text-end'>\n            {this.checkDateRange(this.state.value) ? this.priceCalculator() : '0.00'} €\n          </div>\n        </div>\n        {this.state.isAuthenticated ? (\n        <Button\n          disabled={!this.checkDateRange(this.state.value)}\n          className='mt-3 w-100'\n          onClick={(event) => {\n            event.preventDefault();\n            this.makeReservation();\n          }}>\n          {this.checkDateRange(this.state.value) ? <span>Prenota ora</span> : <span>Seleziona una data valida</span>}\n        </Button>\n        ) : (\n        <Button \n          className='mt-2 w-100'\n          href='/public/login.html'\n        >\n          Accedi per prenotare\n        </Button>\n        )}\n\n        <Modal\n        show={this.state.show}\n        onHide={this.handleClose}\n        backdrop=\"static\"\n        keyboard={false}\n        centered>\n          <Modal.Body>\n            {this.state.loading ? (\n              <div\n              className='d-flex align-items-center'>\n                Effetuo la prenotazione&nbsp;\n                <Spinner\n                variant=\"primary\"\n                animation=\"border\"\n                role=\"status\">\n                  <span\n                  className=\"visually-hidden\">\n                    Caricamento...\n                  </span>\n                </Spinner>\n              </div>\n            ) : (\n              this.state.done ? (\n                <>\n                  Prenotazione effettuata.\n                </>\n              ) : (\n                <>\n                  Errore durante la prenotazione.\n                </>\n              )              \n            )}\n          </Modal.Body>\n          <Modal.Footer>\n          <Button\n          variant=\"secondary\"\n          onClick={this.handleClose}\n          disabled={!this.state.done}>\n            Chiudi\n          </Button>\n        </Modal.Footer>\n        </Modal>\n      </div>\n    );\n  }\n}","import React from 'react';\n\nimport Rating from '@mui/material/Rating';\n\nexport class Stars extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const val = parseInt(this.props.quality);\n    return (\n      <div\n      className='d-flex align-items-center'>\n        <b>Qualità:</b>\n        <Rating\n          name='read-only'\n          value={val}\n          max={3}\n          readOnly\n        />\n      </div>\n    );\n  }\n}","import React from 'react'\n\nimport { Badge, Pill } from 'react-bootstrap';\n\nexport class Tags extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const lista = this.props.tags.map((tag) => {\n      return (\n        <Badge\n        pill\n        bg='primary'\n        className='m-1'\n        key={tag}>\n          {tag}\n        </Badge>\n      );\n    });\n    return (\n      <div>\n        <b>Categoria:</b>\n        <div\n        className='d-flex justify-content-center flex-wrap'>\n          {lista}\n        </div>\n      </div>\n    );\n  }\n}","import React from 'react';\n\nexport class Price extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      originalFixedPrice: this.props.originalFixedPrice,\n      discountedFixedPrice: this.props.discountedFixdedPrice,\n      originalVariablePrice: this.props.originalVariablePrice,\n      variableDiscount: this.props.variableDiscount,\n    }\n  }\n\n  render() {\n    if(this.state.originalFixedPrice != this.state.discountedFixedPrice) {\n      return (\n        <>\n          <div>\n            <span style={{ textDecorationLine: 'line-through'}}>\n              <b>Prezzo fisso: </b> {this.state.originalFixedPrice} €\n            </span>\n            <br/>\n            <span style={{ color: 'red' }}>\n              <b>Prezzo fisso scontato: </b> {this.state.discountedFixedPrice} €\n            </span>\n          </div>\n          <div>\n            <span>\n              <b>Prezzo giornaliero: </b> {this.state.originalVariablePrice} €\n            </span>\n            <br/>\n            {\n              this.state.variableDiscount.onSale\n              ? <span style={{ color: 'red' }}>\n                  Sconto {this.state.variableDiscount.onSaleType ? 'del ' : 'di '}\n                  {parseFloat(this.state.variableDiscount.onSaleValue).toFixed(2)}\n                  {this.state.variableDiscount.onSaleType ? '% ' : '€ '}\n                  sul costo giornaliero se superi {this.state.variableDiscount.days} {parseInt(this.state.variableDiscount.days) > 1 ? 'giorni ' : 'giorno '} \n                  di noleggio.\n                </span>\n              : <></>\n            }\n          </div>\n        </>\n      );\n    } else {\n      return (\n        <div>\n          <b>Prezzo fisso: </b> {parseFloat(this.state.originalFixedPrice).toFixed(2)} €\n          <br/>\n          <b>Prezzo giornaliero: </b> {parseFloat(this.state.originalVariablePrice).toFixed(2)} €\n          <br/>\n            {\n              this.state.variableDiscount.onSale\n              ? <span style={{ color: 'red' }}>\n                  Sconto {this.state.variableDiscount.onSaleType ? 'del ' : 'di '}\n                  {parseFloat(this.state.variableDiscount.onSaleValue).toFixed(2)}\n                  {this.state.variableDiscount.onSaleType ? '% ' : '€ '}\n                  sul prezzo giornaliero se superi {this.state.variableDiscount.days} {parseFloat(this.state.variableDiscount.days) > 1 ? 'giorni ' : 'giorno '} \n                </span>\n              : <></>\n            }\n        </div>\n      );\n    }\n    \n  }\n}","import React from 'react';\n\nimport { Button, Accordion } from 'react-bootstrap';\n\nimport { MakeReservation } from './makeReservation';\nimport { Stars } from './stars';\nimport { Tags } from './tags';\nimport { Price } from './price';\n\nexport class ProductCard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      product: props.product,\n      isAuthenticated: props.isAuthenticated,      \n      discountedFixedPrice: props.product.discount.onSale\n        ? (\n          props.product.discount.onSaleType\n            ? (props.product.fixedPrice * parseFloat(100 - props.product.discount.onSaleValue) / 100).toFixed(2)\n            : (props.product.fixedPrice - props.product.discount.onSaleValue).toFixed(2)\n        ) : (\n          props.product.fixedPrice\n        )\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({\n      isAuthenticated: nextProps.isAuthenticated\n    });  \n  }\n\n  render() {\n    return (\n      <Accordion\n      className='m-2 bg-light rounded-3 border border-dark'>\n        <Accordion.Item\n        eventKey='0'>\n          <Accordion.Header>\n            <div\n            className='row'\n            style={{ width: '95%', height: '12.5vh' }}>\n              <div\n              className='col-6 h-100 d-flex align-items-center'>\n                <img\n                className='img-fluid img-responsive mx-auto d-block'\n                style={{\n                  maxHeight: '100%',\n                  maxWidth: '100%'\n                }}\n                src={this.state.product.image}\n                alt='Immagine'/>\n              </div>\n              <div\n              className='col-6 d-flex align-items-center'>\n                <div>\n                  <b>{this.state.product.title}</b>\n                  <br/>\n                  {this.state.product.brand}\n                </div>\n              </div>\n            </div>\n          </Accordion.Header>\n          <Accordion.Body>\n            <Tags tags={this.state.product.tags}/>\n            <div\n            style={{ textAlign: 'justify' }}>\n              <b>Descrizione:</b>\n              <br/>\n              {this.state.product.description}\n            </div>\n            <Stars\n            quality={this.state.product.quality}/>\n            <Price\n            originalFixedPrice={parseFloat(this.state.product.fixedPrice).toFixed(2)}\n            discountedFixdedPrice={parseFloat(this.state.discountedFixedPrice).toFixed(2)}\n            originalVariablePrice={parseFloat(this.state.product.price).toFixed(2)}\n            variableDiscount={this.state.product.overDays}/>\n            <hr/>\n            <div className='mb-2'><b>Prenotazione:</b></div>\n            {this.state.product.available ? (\n              <MakeReservation\n                bookings={this.state.product.bookings}\n                finalFixedPrice={this.state.product.discount.onSale ? this.state.discountedFixedPrice : this.state.product.fixedPrice}\n                originalVariablePrice={this.state.product.price}\n                variableDiscount={this.state.product.overDays}\n                isAuthenticated={this.state.isAuthenticated}\n                product={this.state.product}/>\n              ) : (\n              <Button\n              disabled={true}\n              className='w-100'>\n                Prodotto non disponibile\n              </Button>\n            )}\n\n          </Accordion.Body>\n        </Accordion.Item>\n      </Accordion>\n    );\n  }\n}","import React from 'react';\n\nimport { Card, Table } from 'react-bootstrap';\nimport { Page, Document, StyleSheet, Text, Image } from '@react-pdf/renderer';\n\nconst styles = StyleSheet.create({\n  body: {\n    paddingTop: 35,\n    paddingBottom: 65,\n    paddingHorizontal: 35,\n  },\n  title: {\n    fontSize: 24,\n    textAlign: 'center',\n    fontFamily: 'Oswald'\n  },\n  author: {\n    fontSize: 12,\n    textAlign: 'center',\n    marginBottom: 40,\n  },\n  subtitle: {\n    fontSize: 18,\n    margin: 12,\n    fontFamily: 'Oswald'\n  },\n  text: {\n    margin: 12,\n    fontSize: 14,\n    textAlign: 'justify',\n    fontFamily: 'Times-Roman'\n  },\n  image: {\n    marginVertical: 15,\n    marginHorizontal: 100,\n  },\n  header: {\n    fontSize: 12,\n    marginBottom: 20,\n    textAlign: 'center',\n    color: 'grey',\n  },\n  pageNumber: {\n    position: 'absolute',\n    fontSize: 12,\n    bottom: 30,\n    left: 0,\n    right: 0,\n    textAlign: 'center',\n    color: 'grey',\n  },\n});\n\nexport class Invoice extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return(\n\n      <Document>\n        <Page style={styles.body}>\n          <Text style={styles.header} fixed>\n            ~ Created with react-pdf ~\n          </Text>\n          <Text style={styles.title}>Don Quijote de la Mancha</Text>\n          <Text style={styles.author}>Miguel de Cervantes</Text>\n          <Image\n            style={styles.image}\n            src=\"/images/quijote1.jpg\"\n          />\n          <Text style={styles.subtitle}>\n            Capítulo I: Que trata de la condición y ejercicio del famoso hidalgo D.\n            Quijote de la Mancha\n          </Text>\n          <Text style={styles.text}>\n            En un lugar de la Mancha, de cuyo nombre no quiero acordarme, no ha\n            mucho tiempo que vivía un hidalgo de los de lanza en astillero, adarga\n            antigua, rocín flaco y galgo corredor. Una olla de algo más vaca que\n            carnero, salpicón las más noches, duelos y quebrantos los sábados,\n            lentejas los viernes, algún palomino de añadidura los domingos,\n            consumían las tres partes de su hacienda. El resto della concluían sayo\n            de velarte, calzas de velludo para las fiestas con sus pantuflos de lo\n            mismo, los días de entre semana se honraba con su vellori de lo más\n            fino. Tenía en su casa una ama que pasaba de los cuarenta, y una sobrina\n            que no llegaba a los veinte, y un mozo de campo y plaza, que así\n            ensillaba el rocín como tomaba la podadera. Frisaba la edad de nuestro\n            hidalgo con los cincuenta años, era de complexión recia, seco de carnes,\n            enjuto de rostro; gran madrugador y amigo de la caza. Quieren decir que\n            tenía el sobrenombre de Quijada o Quesada (que en esto hay alguna\n            diferencia en los autores que deste caso escriben), aunque por\n            conjeturas verosímiles se deja entender que se llama Quijana; pero esto\n            importa poco a nuestro cuento; basta que en la narración dél no se salga\n            un punto de la verdad\n          </Text>\n          <Text style={styles.text}>\n            Es, pues, de saber, que este sobredicho hidalgo, los ratos que estaba\n            ocioso (que eran los más del año) se daba a leer libros de caballerías\n            con tanta afición y gusto, que olvidó casi de todo punto el ejercicio de\n            la caza, y aun la administración de su hacienda; y llegó a tanto su\n            curiosidad y desatino en esto, que vendió muchas hanegas de tierra de\n            sembradura, para comprar libros de caballerías en que leer; y así llevó\n            a su casa todos cuantos pudo haber dellos; y de todos ningunos le\n            parecían tan bien como los que compuso el famoso Feliciano de Silva:\n            porque la claridad de su prosa, y aquellas intrincadas razones suyas, le\n            parecían de perlas; y más cuando llegaba a leer aquellos requiebros y\n            cartas de desafío, donde en muchas partes hallaba escrito: la razón de\n            la sinrazón que a mi razón se hace, de tal manera mi razón enflaquece,\n            que con razón me quejo de la vuestra fermosura, y también cuando leía:\n            los altos cielos que de vuestra divinidad divinamente con las estrellas\n            se fortifican, y os hacen merecedora del merecimiento que merece la\n            vuestra grandeza.\n          </Text>\n          <Text style={styles.text}>\n            Con estas y semejantes razones perdía el pobre caballero el juicio, y\n            desvelábase por entenderlas, y desentrañarles el sentido, que no se lo\n            sacara, ni las entendiera el mismo Aristóteles, si resucitara para sólo\n            ello. No estaba muy bien con las heridas que don Belianis daba y\n            recibía, porque se imaginaba que por grandes maestros que le hubiesen\n            curado, no dejaría de tener el rostro y todo el cuerpo lleno de\n            cicatrices y señales; pero con todo alababa en su autor aquel acabar su\n            libro con la promesa de aquella inacabable aventura, y muchas veces le\n            vino deseo de tomar la pluma, y darle fin al pie de la letra como allí\n            se promete; y sin duda alguna lo hiciera, y aun saliera con ello, si\n            otros mayores y continuos pensamientos no se lo estorbaran. Tuvo muchas\n            veces competencia con el cura de su lugar (que era hombre docto graduado\n            en Sigüenza), sobre cuál había sido mejor caballero, Palmerín de\n            Inglaterra o Amadís de Gaula; mas maese Nicolás, barbero del mismo\n            pueblo, decía que ninguno llegaba al caballero del Febo, y que si alguno\n            se le podía comparar, era don Galaor, hermano de Amadís de Gaula, porque\n            tenía muy acomodada condición para todo; que no era caballero\n            melindroso, ni tan llorón como su hermano, y que en lo de la valentía no\n            le iba en zaga.\n          </Text>\n          <Text style={styles.text}>\n            En resolución, él se enfrascó tanto en su lectura, que se le pasaban las\n            noches leyendo de claro en claro, y los días de turbio en turbio, y así,\n            del poco dormir y del mucho leer, se le secó el cerebro, de manera que\n            vino a perder el juicio. Llenósele la fantasía de todo aquello que leía\n            en los libros, así de encantamientos, como de pendencias, batallas,\n            desafíos, heridas, requiebros, amores, tormentas y disparates\n            imposibles, y asentósele de tal modo en la imaginación que era verdad\n            toda aquella máquina de aquellas soñadas invenciones que leía, que para\n            él no había otra historia más cierta en el mundo.\n          </Text>\n          <Text style={styles.subtitle} break>\n            Capítulo II: Que trata de la primera salida que de su tierra hizo el\n            ingenioso Don Quijote\n          </Text>\n          <Image\n            style={styles.image}\n            src=\"/images/quijote2.png\"\n          />\n          <Text style={styles.text}>\n            Hechas, pues, estas prevenciones, no quiso aguardar más tiempo a poner\n            en efeto su pensamiento, apretándole a ello la falta que él pensaba que\n            hacía en el mundo su tardanza, según eran los agravios que pensaba\n            deshacer, tuertos que enderezar, sinrazones que emendar y abusos que\n            mejorar y deudas que satisfacer. Y así, sin dar parte a persona alguna\n            de su intención y sin que nadie le viese, una mañana, antes del día, que\n            era uno de los calurosos del mes de Julio, se armó de todas sus armas,\n            subió sobre Rocinante, puesta su mal compuesta celada, embrazó su\n            adarga, tomó su lanza y por la puerta falsa de un corral salió al campo\n            con grandísimo contento y alborozo de ver con cuánta facilidad había\n            dado principio a su buen deseo. Mas apenas se vio en el campo cuando le\n            asaltó un pensamiento terrible, y tal, que por poco le hiciera dejar la\n            comenzada empresa; y fue que le vino a la memoria que no era armado\n            caballero, y que, conforme a ley de caballería, ni podía ni debía tomar\n            armas con ningún caballero; y puesto que lo fuera, había de llevar armas\n            blancas, como novel caballero, sin empresa en el escudo, hasta que por\n            su esfuerzo la ganase. Estos pensamientos le hicieron titubear en su\n            propósito; mas pudiendo más su locura que otra razón alguna, propuso de\n            hacerse armar caballero del primero que topase, a imitación de otros\n            muchos que así lo hicieron, según él había leído en los libros que tal\n            le tenían. En lo de las armas blancas, pensaba limpiarlas de manera, en\n            teniendo lugar, que lo fuesen más que un arminio; y con esto se quietó18\n            y prosiguió su camino, sin llevar otro que aquel que su caballo quería,\n            creyendo que en aquello consistía la fuerza de las aventuras\n          </Text>\n          <Text style={styles.text}>\n            Yendo, pues, caminando nuestro flamante aventurero, iba hablando consigo\n            mesmo, y diciendo: —¿Quién duda, sino que en los venideros tiempos,\n            cuando salga a luz la verdadera historia de mis famosos hechos, que el\n            sabio que los escribiere no ponga, cuando llegue a contar esta mi\n            primera salida tan de mañana, desta manera?: Apenas había el rubicundo\n            Apolo tendido por la faz de la ancha y espaciosa tierra las doradas\n            hebras de sus hermosos cabellos, y apenas los pequeños y pintados\n            pajarillos con sus arpadas lenguas habían saludado con dulce y meliflua\n            armonía la venida de la rosada Aurora, que, dejando la blanda cama del\n            celoso marido, por las puertas y balcones del manchego horizonte a los\n            mortales se mostraba, cuando el famoso caballero don Quijote de la\n            Mancha, dejando las ociosas plumas, subió sobre su famoso caballo\n            Rocinante y comenzó a caminar por el antiguo y conocido Campo de\n            Montiel.\n          </Text>\n          <Text style={styles.text}>\n            Y era la verdad que por él caminaba; y añadió diciendo: —Dichosa edad y\n            siglo dichoso aquel adonde saldrán a luz las famosas hazañas mías,\n            dignas de entallarse en bronces, esculpirse en mármoles y pintarse en\n            tablas, para memoria en lo futuro. ¡Oh tú, sabio encantador, quienquiera\n            que seas, a quien ha de tocar el ser coronista desta peregrina historia!\n            Ruégote que no te olvides de mi buen Rocinante, compañero eterno mío en\n            todos mis caminos y carreras.\n          </Text>\n          <Text style={styles.text}>\n            Luego volvía diciendo, como si verdaderamente fuera enamorado: —¡Oh\n            princesa Dulcinea, señora deste cautivo corazón! Mucho agravio me\n            habedes fecho en despedirme y reprocharme con el riguroso afincamiento\n            de mandarme no parecer ante la vuestra fermosura. Plégaos, señora, de\n            membraros deste vuestro sujeto corazón, que tantas cuitas por vuestro\n            amor padece. Con estos iba ensartando otros disparates, todos al modo de\n            los que sus libros le habían enseñado, imitando en cuanto podía su\n            lenguaje. Con esto caminaba tan despacio, y el sol entraba tan apriesa y\n            con tanto ardor, que fuera bastante a derretirle los sesos, si algunos\n            tuviera\n          </Text>\n          <Text style={styles.text}>\n            Casi todo aquel día caminó sin acontecerle cosa que de contar fuese, de\n            lo cual se desesperaba, porque quisiera topar luego luego con quien\n            hacer experiencia del valor de su fuerte brazo. Autores hay que dicen\n            que la primera aventura que le avino fue la del Puerto Lápice, otros\n            dicen que la de los molinos de viento; pero lo que yo he podido\n            averiguar en este caso, y lo que he hallado escrito en los anales de la\n            Mancha, es que él anduvo todo aquel día, y, al anochecer, su rocín y él\n            se hallaron cansados y muertos de hambre, y que, mirando a todas partes\n            por ver si descubriría algún castillo o alguna majada de pastores donde\n            recogerse y adonde pudiese remediar su mucha hambre y necesidad, vio, no\n            lejos del camino por donde iba, una venta,que fue como si viera una\n            estrella que, no a los portales, sino a los alcázares de su redención le\n            encaminaba. Diose priesa a caminar, y llegó a ella a tiempo que\n            anochecía.\n          </Text>\n          <Text style={styles.pageNumber} render={({ pageNumber, totalPages }) => (\n            `${pageNumber} / ${totalPages}`\n          )} fixed />\n        </Page>\n      </Document>\n\n      // <Card className='m-0 p-0 w-100'>\n      //   <Document className='m-3'>\n      //     <Page size=\"A4\">\n      //       <div className='row d-flex justify-content-between'>\n      //         <div className='col-4'>\n      //           Intestazione Destinatario\n      //         </div>\n      //         <div className='col-4'>\n      //           Intestazione Emittente\n      //         </div>\n      //       </div>\n      //       <hr/>\n      //       <div className='row d-flex justify-content-between'>\n      //         <div className='col-4'>\n      //           Fattura\n      //         </div>\n      //         <div className='col-4'>\n      //           Data di emissione GG/MM/AAAA\n      //         </div>\n      //       </div>\n      //       <hr/>\n      //       {/* <Table striped bordered hover> */}\n      //       <table>\n      //         <thead>\n      //           <tr>\n      //             <th>#</th>\n      //             <th>Descrizione</th>\n      //             <th>Quantità</th>\n      //             <th>Prezzo</th>\n      //             <th>Sconto</th>\n      //             <td>Iva</td>\n      //             <th>Imponibile</th>\n      //           </tr>\n      //         </thead>\n      //         <tbody>\n      //           <tr>\n      //             <td>1</td>\n      //             <td>Titolo + Brand + id?</td>\n      //             <td>1</td>\n      //             <td>Prezzo</td>\n      //             <td>Sconto</td>\n      //             <td>22</td>\n      //             <td>Imponibile</td>\n      //           </tr>\n      //           <tr>\n      //             <td>2</td>\n      //             <td>Noleggio Titolo + Brand + id?</td>\n      //             <td>1</td>\n      //             <td>Prezzo</td>\n      //             <td>Sconto</td>\n      //             <td>22</td>\n      //             <td>Imponibile</td>\n      //           </tr>\n      //           <tr>\n      //             <td colSpan={6}>Totale imponibile</td>\n      //             <td>totalPrice scorporato</td>\n      //           </tr>\n      //           <tr>\n      //             <td colSpan={6}>IVA</td>\n      //             <td>IVA</td>\n      //           </tr>\n      //           <tr>\n      //             <td colSpan={6}>Totale Fattura</td>\n      //             <td>Tot</td>\n      //           </tr>\n      //         </tbody>\n      //       {/* </Table> */}\n      //       </table>\n      //     </Page>\n      //   </Document>\n      // </Card>\n    );\n  }\n}","import React from 'react';\n\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\nimport Box from '@mui/material/Box';\nimport LocalizationProvider from '@mui/lab/LocalizationProvider';\nimport MobileDateRangePicker from '@mui/lab/MobileDateRangePicker';\nimport TextField from '@mui/material/TextField';\n\nimport { Button, Modal, Spinner } from 'react-bootstrap';\n\nimport { convertDateToObject, datediff, isInArray, convertToDate } from '../services/functions';\nimport ApiCall from '../services/apiCall';\n\nexport class UpdateReservation extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      // Date range picker\n      value: [null, null],\n      dates: [],\n      bookings: [],\n      // Reservation\n      reservation: props.reservation,\n      variableDiscount: props.reservation.variableDiscount,\n      // Modal\n      showEditModal: false,\n      showLoadingModal: false,\n      loading: false,\n      error: false,\n      isEditing: true\n    }\n    // Price\n    this.priceCalculator = this.priceCalculator.bind(this);\n    // Modal\n    this.handleClose = this.handleClose.bind(this);\n    this.handleShow = this.handleShow.bind(this);\n    // Date range picker\n    this.disabledDays = this.disabledDays.bind(this);\n    // Update reservation button\n    this.checkDateRange = this.checkDateRange.bind(this);\n    // API call\n    this.updateReservation = this.updateReservation.bind(this);\n    this.deleteReservation = this.deleteReservation.bind(this);\n  }\n\n  priceCalculator() {\n    let fixedPrice;\n    if(this.state.reservation.fixedDiscount.onSale == true) {\n      if(this.state.reservation.fixedDiscount.onSaleType == true) {\n        fixedPrice = (parseFloat(this.state.reservation.fixedPrice) * (100 - parseFloat(this.state.reservation.fixedDiscount.onSaleValue)) / 100);\n      } else {\n        fixedPrice = (parseFloat(this.state.reservation.fixedPrice) - parseFloat(this.state.reservation.fixedDiscount.onSaleValue));\n      }\n    } else {\n      fixedPrice = parseFloat(this.state.reservation.fixedPrice);\n    }\n\n    if((this.state.value[0] && this.state.value[1])) {\n      const days = datediff(this.state.value[0], this.state.value[1])\n      if(this.state.variableDiscount.onSale == true && days > parseInt(this.state.variableDiscount.days)) {\n        let variableTotalPrice\n        if(this.state.variableDiscount.onSaleType == true) {\n          variableTotalPrice = (days * parseFloat(this.state.reservation.variablePrice)) * (100 - parseFloat(this.state.variableDiscount.onSaleValue)) / 100;\n        } else {\n          variableTotalPrice = (days * parseFloat(this.state.reservation.variablePrice)) - parseFloat(this.state.variableDiscount.onSaleValue);\n        }\n        return (fixedPrice + variableTotalPrice).toFixed(2);\n      } else {\n        return (fixedPrice + (days * parseFloat(this.state.reservation.variablePrice))).toFixed(2);\n      }\n    } else {\n      return '0.00';\n    }\n  }\n\n  handleClose() {\n    this.setState({\n      showEditModal: false\n    });\n  }\n  \n  handleShow() {\n    this.setState({\n      showEditModal: true\n    });\n  }\n\n  disabledDays(date) {\n    if(this.state.dates == null) {\n      return null;\n    }\n    return this.state.dates.includes(date.getTime());\n  }\n\n  checkDateRange(range) {\n    if(range.length == 2 && this.state.dates != null && range[0] && range[1]) {\n      let currentDate = range[0];\n      let endDate = range[1];\n      while(currentDate <= endDate) {\n        if(isInArray(this.state.dates, currentDate) == true) {\n          return false;\n        }\n        currentDate = currentDate.addDays(1);\n      }\n      return true;\n    }\n    return false;\n  }\n\n  updateReservation() {\n    this.setState({\n      loading: true,\n      showLoadingModal: true\n    });\n    this.handleClose();\n\n    // Modifica della prenotazione\n    ApiCall.postReservation(this.state.reservation._id, {\n      bookingDate: convertDateToObject(new Date()),\n      startDate: convertDateToObject(this.state.value[0]),\n      endDate: convertDateToObject(this.state.value[1]),\n      price: this.priceCalculator()\n    }).then(() => {\n      // Aggiornamento delle prenotazioni del prodotto\n      let bookings = this.state.bookings;\n      bookings = bookings.filter((e) => {\n        if(e.reservationId == this.state.reservation._id) {\n          e.startDate =  convertDateToObject(this.state.value[0]);\n          e.endDate = convertDateToObject(this.state.value[1]);\n          e.total = this.priceCalculator()\n        }\n        return true;\n      });\n      ApiCall.postProduct(this.state.reservation.productId, {\n        bookings: bookings\n      }).then(() => {\n        this.setState({\n          loading: false,\n        });\n      }).catch(() => {\n        this.setState({\n          error: true,\n          loading: false\n        });\n      });\n    });\n  }\n\n  deleteReservation() {\n    this.setState({\n      isEditing: false,\n      loading: true,\n      showLoadingModal: true\n    });\n    this.handleClose();\n    \n    ApiCall.deleteReservation(String(this.state.reservation._id)).then(() => {\n      let bookings = this.state.bookings;\n      bookings = bookings.filter((e) => {\n        if(e.reservationId == this.state.reservation._id) {\n          return false\n        } else {\n          return true;\n        }\n      });\n      ApiCall.postProduct(this.state.reservation.productId, {\n        bookings: bookings\n      }).then(() => {\n        this.setState({\n          loading: false,\n        });\n      }).catch(() => {\n        this.setState({\n          error: true,\n          loading: false\n        });\n      });\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    // Convert bookings data to an array of dates where the product is booked\n    let datesInTime = convertToDate(nextProps.bookings).map((val) => {\n      return val.getTime();\n    });\n    // Remove the days of the current booking\n    let removeDate = convertToDate([this.state.reservation]).map((val) => {\n      return val.getTime();\n    });\n    let newDates = datesInTime.filter((e) => {\n      for(let index in removeDate) {\n        if(e == removeDate[index]) {\n          return false;\n        }\n      }\n      return true;\n    });\n    // Set the new dates\n    this.setState({\n      dates: newDates,\n      bookings: nextProps.bookings\n    }); \n  }\n\n  render() {\n    let finalFixedPrice;\n    if(this.state.reservation.fixedDiscount.onSale == true) {\n      if(this.state.reservation.fixedDiscount.onSaleType == true) {\n        finalFixedPrice = parseFloat(this.state.reservation.fixedPrice) * (100 - parseFloat(this.state.reservation.fixedDiscount.onSaleValue)) / 100;\n      } else {\n        finalFixedPrice = parseFloat(this.state.reservation.fixedPrice) - parseFloat(this.state.reservation.fixedDiscount.onSaleValue);\n      }\n    } else {\n      finalFixedPrice = parseFloat(this.state.reservation.fixedPrice);\n    }\n\n    return (\n      <>\n        {/* Trigger booking editor's modal */}\n        <Button\n        className='w-100'\n        variant=\"primary\"\n        onClick={this.handleShow}>\n          Modifica prenotazione\n        </Button>\n        {/* Booking editor's modal */}\n        <Modal\n        show={this.state.showEditModal}\n        onHide={this.handleClose}\n        keyboard={false}\n        centered>\n          <Modal.Header\n          closeButton>\n            <Modal.Title>Modifica prenotazione</Modal.Title>\n          </Modal.Header>\n          <Modal.Body\n          className='pb-0 mt-2'>\n            <Box className=\"d-flex justify-content-center mb-2\">\n              <LocalizationProvider\n              dateAdapter={AdapterDateFns}>\n                <MobileDateRangePicker\n                disablePast\n                shouldDisableDate={this.disabledDays}\n                startText='Data di inizio'\n                endText='Data di fine'\n                value={this.state.value}\n                onChange={(newValue) => {\n                  this.setState({\n                    value: newValue\n                  });\n                }}\n                renderInput={(startProps, endProps) => (\n                  <React.Fragment>\n                    <TextField {...startProps}/>\n                    <Box\n                    sx={{ mx: 1 }}>\n                      a\n                    </Box>\n                    <TextField {...endProps}/>\n                  </React.Fragment>\n                )}\n                inputFormat='dd/MM/yyyy'/>\n              </LocalizationProvider>\n            </Box>\n            <div className='row'>\n              <div className='col-8'>\n                Prezzo fisso:\n              </div>\n              <div className='col-4 text-end'>\n                {(finalFixedPrice).toFixed(2)} €\n              </div>\n            </div>\n            <div className='row'>\n              <div className='col-8'>\n                Prezzo giornaliero:\n              </div>\n              <div className='col-4 text-end'>\n                {parseFloat(this.state.reservation.variablePrice).toFixed(2)} €\n              </div>\n            </div>\n            <div className='row'>\n              <div className='col-12' style={{textAlign: 'justify'}}>\n                Sconto {this.state.variableDiscount.onSaleType ? 'del ' : 'di '}\n                {parseFloat(this.state.variableDiscount.onSaleValue).toFixed(2)}\n                {this.state.variableDiscount.onSaleType ? '% ' : '€ '}\n                sul costo giornaliero se superi {this.state.variableDiscount.days} {parseInt(this.state.variableDiscount.days) > 1 ? 'giorni ' : 'giorno '} \n                di noleggio.\n              </div>\n            </div>\n            <div className='row'>\n              <div className='col-8'>\n                Giorni di noleggio:\n              </div>\n              <div className='col-4 text-end'>\n                {(this.state.value[0] && this.state.value[1]) ? datediff(this.state.value[0], this.state.value[1]) : 0 }\n              </div>\n            </div>\n            <div className='row mb-2'>\n              <div className='col-8'>\n                Prezzo totale:\n              </div>\n              <div className='col-4 text-end'>\n                {this.priceCalculator()} €\n              </div>\n            </div>\n          </Modal.Body>\n          <Modal.Footer\n          className='d-flex justify-content-between'>\n            <Button\n              disabled={!this.checkDateRange(this.state.value)}\n              className='mt-3 w-100'\n              variant='success'\n              onClick={(event) => {\n                event.preventDefault();\n                this.updateReservation();\n              }}>\n              {this.checkDateRange(this.state.value) ? <span>Modifica ora</span> : <span>Seleziona una data valida</span>}\n            </Button>\n            <Button\n            className='w-100'\n            variant=\"danger\"\n            onClick={this.deleteReservation}>\n              Cancella prenotazione\n            </Button>\n          </Modal.Footer>\n        </Modal>\n        {/* Loading modal */}\n        <Modal\n        show={this.state.showLoadingModal}\n        onHide={this.handleClose}\n        backdrop=\"static\"\n        keyboard={false}\n        centered>\n          <Modal.Body>\n            {this.state.loading ? (\n              <div\n              className='d-flex align-items-center'>\n                Effetuo la {this.state.isEditing ? 'prenotazione.' : 'cancellazione.'}&nbsp;\n                <Spinner\n                variant=\"primary\"\n                animation=\"border\"\n                role=\"status\">\n                  <span\n                  className=\"visually-hidden\">\n                    Caricamento...\n                  </span>\n                </Spinner>\n              </div>\n            ) : (\n              this.state.error ? (\n                <>\n                  Errore durante la {this.state.isEditing ? 'prenotazione.' : 'cancellazione.'} \n                </>\n              ) : (\n                <>\n                  {this.state.isEditing ? 'Prenotazione modificata.' : 'Cancellazione effettuata.'}\n                </>\n              )              \n            )}\n          </Modal.Body>\n          <Modal.Footer>\n          <Button\n          variant=\"secondary\"\n          onClick={() => {\n            this.setState({ showLoadingModal: false })\n            window.location.reload(false);\n          }}\n          disabled={this.state.loading}>\n            Chiudi\n          </Button>\n        </Modal.Footer>\n        </Modal>\n      </>\n    );\n  }\n}","import React from 'react';\n\nimport { Accordion, Button } from 'react-bootstrap';\nimport ApiCall from '../services/apiCall';\nimport { datediff } from '../services/functions';\nimport { Invoice } from './invoice';\nimport { UpdateReservation } from './updateReservation';\n\nexport class ReservationCard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      reservation: props.reservation,\n      bookings: [],\n      show: false,\n      status: ''\n    }\n    this.handleClose = this.handleClose.bind(this);\n    this.handleShow = this.handleShow.bind(this);\n  }\n\n  handleClose() {\n    this.setState({\n      show: false\n    });\n  }\n  \n  handleShow() {\n    this.setState({\n      show: true\n    });\n  }\n\n  componentDidMount() {\n    let status = ''\n    if(this.state.reservation.isTaken == false && this.state.reservation.isReturned == false) {\n      status = 'Prenotato';\n    } else if(this.state.reservation.isTaken == true && this.state.reservation.isReturned == false) {\n      status = 'Attivo';\n    } else if(this.state.reservation.isTaken == true && this.state.reservation.isReturned == true) {\n      status = 'Concluso';\n    }\n    this.setState({\n      status: status\n    });\n    ApiCall.getProduct(this.state.reservation.productId).then((result) => {\n      this.setState({\n        bookings: result.data.data.obj.bookings\n      });\n    });\n  }\n\n  render() {\n    let finalFixedPrice;\n    let finalVariablePrice;\n    if(this.state.reservation.fixedDiscount.onSale == true) {\n      if(this.state.reservation.fixedDiscount.onSaleType == true) {\n        finalFixedPrice = parseFloat(this.state.reservation.fixedPrice) * (100 - parseFloat(this.state.reservation.fixedDiscount.onSaleValue)) / 100;\n      } else {\n        finalFixedPrice = parseFloat(this.state.reservation.fixedPrice) - parseFloat(this.state.reservation.fixedDiscount.onSaleValue);\n      }\n    } else {\n      finalFixedPrice = parseFloat(this.state.reservation.fixedPrice);\n    }\n\n    const days = datediff(\n      new Date(this.state.reservation.startDate.year, this.state.reservation.startDate.month, this.state.reservation.startDate.day),\n      new Date(this.state.reservation.endDate.year, this.state.reservation.endDate.month, this.state.reservation.endDate.day));\n    if(this.state.reservation.variableDiscount.onSale == true && days > parseInt(this.state.reservation.variableDiscount.days)) {\n      if(this.state.reservation.variableDiscount.onSaleType == true) {\n        finalVariablePrice = days * parseFloat(this.state.reservation.variablePrice) * (100 - parseFloat(this.state.reservation.variableDiscount.onSaleValue)) / 100;\n      } else {\n        finalVariablePrice = days * parseFloat(this.state.reservation.variablePrice) - parseFloat(this.state.reservation.variableDiscount.onSaleValue);\n      }\n    } else {\n      finalVariablePrice = days * parseFloat(this.state.reservation.variablePrice);\n    }\n\n    return (\n      <Accordion\n      className='m-2 bg-light rounded-3 border border-dark'>\n        <Accordion.Item\n        eventKey='0'>\n          <Accordion.Header>\n            <div\n            className='row'\n            style={{ width: '95%', height: '12.5vh' }}>\n              <div\n              className='col-6 h-100 d-flex align-items-center'>\n                <img\n                className='img-fluid img-responsive mx-auto d-block'\n                style={{\n                  maxHeight: '100%',\n                  maxWidth: '100%'\n                }}\n                src={this.state.reservation.productImage}\n                alt='Immagine'/>\n              </div>\n              <div\n              className='col-6 d-flex align-items-center'>\n                <div>\n                  <b>{this.state.reservation.productTitle}</b>\n                  <br/>\n                  {this.state.reservation.productBrand}\n                  <br/>\n                  <b>\n                    {this.state.reservation.bookingDate.day}/\n                    {this.state.reservation.bookingDate.month}/\n                    {this.state.reservation.bookingDate.year}\n                  </b>\n                </div>\n              </div>\n            </div>\n          </Accordion.Header>\n          <Accordion.Body>\n            {/* Dati principali prenotazione */}\n            <div>\n              Identificativo della prenotazione:\n              <br/>\n              <b>{this.state.reservation._id}</b>\n            </div>\n            <hr/>\n            {/* Dati secondari prenotazione */}\n            <div>\n              <div className='row d-flex justify-content-between'>\n                <div className='col-8'>\n                  <b>Data prenotazione:</b>\n                </div>\n                <div className='col-4 text-end'>\n                  {this.state.reservation.bookingDate.day}/\n                  {this.state.reservation.bookingDate.month}/\n                  {this.state.reservation.bookingDate.year}\n                </div>\n              </div>\n              <div className='row'>\n                <div className='col-8'>\n                  <b>Status:</b>\n                </div>\n                <div className='col-4 text-end'>\n                  <b>{this.state.status}</b>\n                </div>\n              </div>\n              <div className='row'>\n                <div className='col-8'>\n                <b>Data di inizio noleggio:</b>\n                </div>\n                <div className='col-4 text-end'>\n                  {this.state.reservation.startDate.day}/\n                  {this.state.reservation.startDate.month}/\n                  {this.state.reservation.startDate.year}\n                </div>\n              </div>\n              <div className='row'>\n                <div className='col-8'>\n                <b>Data di fine noleggio:</b>\n                </div>\n                <div className='col-4 text-end'>\n                  {this.state.reservation.endDate.day}/\n                  {this.state.reservation.endDate.month}/\n                  {this.state.reservation.endDate.year}  \n                </div>\n              </div>\n              <div className='row'>\n                <div className='col-8'>\n                <b>Prezzo fisso:</b>\n                </div>\n                <div className='col-4 text-end'>\n                  {parseFloat(finalFixedPrice).toFixed(2)} €\n                </div>\n              </div>\n              <div className='row'>\n                <div className='col-8'>\n                <b>Prezzo variabile:</b>\n                </div>\n                <div className='col-4 text-end'>\n                  {parseFloat(finalVariablePrice).toFixed(2)} €\n                </div>\n              </div>\n              <div className='row'>\n                <div className='col-8'>\n                <b>Prezzo totale:</b>\n                </div>\n                <div className='col-4 text-end'>\n                  {parseFloat(this.state.reservation.totalPrice).toFixed(2)} €\n                </div>\n              </div>\n              <div className='row'>\n                <div className='col-12'>\n                <b>Dettagli:</b>\n                </div>\n              </div>\n              <div className='row'>\n                <div className='col-12'>\n                  {this.state.reservation.description}\n                </div>\n              </div>\n            </div>\n            <hr/>\n            {/* Aggiornamento prenotazione */}\n            {this.state.status == 'Prenotato' ? (\n              <UpdateReservation\n              reservation={this.state.reservation}\n              bookings={this.state.bookings}\n              />\n            ) : (\n              this.state.status == 'Attivo' ? (\n                <Button\n                className='w-100'\n                disabled>\n                  Prenotazione attiva\n                </Button>\n              ) : (\n                <Button\n                className='w-100'\n                onClick={() => {\n                  // Get dati utente\n                  \n                  // Call invoice\n                  \n                }}\n                href='./invoice'>\n                  Richiedi fattura\n                </Button>  \n              )\n            )}\n          </Accordion.Body>\n        </Accordion.Item>\n      </Accordion>\n    );\n  }\n}","import React from 'react'\n\nimport { ProductCard } from './productCard'\nimport { ReservationCard } from './reservationCard'\n\nexport class List extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isAuthenticated: props.isAuthenticated\n    }\n  }\n  \n  componentWillReceiveProps(nextProps) {\n    this.setState({\n      isAuthenticated: nextProps.isAuthenticated\n    });  \n  }\n\n  render() {\n    if(this.props.elements.length == 0) {\n      return (\n        <div\n        style={{height: '75vh'}}\n        className='d-flex justify-content-center align-items-center'>\n          Non ci sono contenuti\n        </div>\n      );\n    } else {\n      if(this.props.type == 'product') {\n        const lista = this.props.elements.map((element) => {\n          return (\n            <ProductCard\n            key={element._id}\n            product={element}\n            isAuthenticated={this.state.isAuthenticated}/>\n          );\n        });\n        return (\n          <div\n          id='body'>\n            {lista}\n          </div>\n        );\n      } else if(this.props.type == 'reservation') {\n        const lista = this.props.elements.map((element) => {\n          return (\n            <ReservationCard\n            key={element._id}\n            reservation={element}/>\n          );\n        });\n        return (\n          <div\n          id='body'>\n            {lista}\n          </div>\n        );\n      } \n    }\n  }\n}","import React from 'react';\n\nimport Cookie from 'js-cookie';\nimport { Nav, Form, FormControl } from 'react-bootstrap';\n\nexport class Hamburger extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isAuthenticated: props.isAuthenticated\n    }\n    this.logout = this.logout.bind(this);\n  }\n\n  logout() {\n    Cookie.remove('jwt');\n    window.location.href='/user/index.html';\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({ \n      isAuthenticated: nextProps.isAuthenticated\n    });\n  }\n\n  render() {\n    if(this.state.isAuthenticated == true) {\n      return (\n        <Nav\n        className='text-center d-flex align-items-center'\n        navbarScroll>\n          <Nav.Link>\n            <Form\n            className='element-to-hide-over-350'\n            onSubmit={(e) => {\n              e.preventDefault();\n              this.props.search(e.target.searchInput.value);\n            }}>\n              <FormControl\n                type='search'\n                placeholder='Cerca'\n                name='searchInput'\n                className='me-2'\n                aria-label='Cerca'\n              />\n            </Form>\n          </Nav.Link>\n          <Nav.Link\n          href='./page'>\n            Pagina utente\n          </Nav.Link>\n          <Nav.Link\n          href='./reservation'>\n            Prenotazioni\n          </Nav.Link>\n          <Nav.Link\n          onClick={this.logout}>\n            Logout\n          </Nav.Link>\n        </Nav>\n      );\n    } else {\n      return (\n        <Nav\n        className='me-auto my-2 my-lg-0 text-center  align-items-center'\n        navbarScroll>\n          <Nav.Link\n          className='w-100'>\n            { this.props.type == 'user'\n              ? null\n              : <Form\n                className='element-to-hide-over-350'\n                onSubmit={(e) => {\n                  e.preventDefault();\n                  this.props.search(e.target.searchInput.value);\n                }}>\n                <FormControl\n                  type='search'\n                  placeholder='Cerca'\n                  name='searchInput'\n                  className='me-2'\n                  aria-label='Cerca'/>\n              </Form>\n            }\n            </Nav.Link>\n          <Nav.Link\n          href='/public/login.html'>\n            login\n          </Nav.Link>\n        </Nav>\n      );\n    }\n  }\n}","import React from 'react';\n\nimport { Dropdown } from 'react-bootstrap';\n\nexport class Filters extends React.Component {\n  constructor(props) {\n    super(props);\n    if(props.type == 'product') {\n      this.state = {\n        filter1: ['Disponibilità', 'Tutti', 'Disponibili', 'Non dispobili'],\n        choise1: 1,\n        filter2: ['Ordina per', 'Prezzo crescente', 'Prezzo descrescente'],\n        choise2: 1\n      }\n      // props.sort(true);\n    } else if(props.type == 'reservation') {\n      this.state = {\n        filter1: ['Disponibilità', 'Tutte', 'Prenotate', 'Attive', 'Concluse'],\n        choise1: 1,\n        filter2: ['Ordina per', 'Data crescente', 'Data descrescente'],\n        choise2: 1\n      }\n      // props.sort(true);\n    }\n  }\n\n  render() {\n    if(this.props.type == 'user') {\n      return <></>\n    } else {\n      return (\n        <div\n        className='row p-2'>\n          <div\n          className='col-6 d-flex flex-row align-items-center'\n          style={{ overflowX: 'visible !important' }}>\n            <Dropdown>\n              <Dropdown.Toggle>\n                {this.state.filter1[0]}\n              </Dropdown.Toggle>\n              <Dropdown.Menu\n              renderOnMount={true}>\n                <Dropdown.Item\n                active={this.state.choise1 == 1}\n                onClick={() => {\n                  this.setState({\n                    choise1: 1\n                  });\n                  this.props.show(1);\n                }}>\n                  {this.state.filter1[1]}\n                </Dropdown.Item>\n                <Dropdown.Item\n                active={this.state.choise1 == 2}\n                onClick={() => {\n                  this.setState({\n                    choise1: 2\n                  });\n                  this.props.show(2);\n                }}>\n                  {this.state.filter1[2]}\n                </Dropdown.Item>\n                <Dropdown.Item\n                active={this.state.choise1 == 3}\n                onClick={() => {\n                  this.setState({\n                    choise1: 3\n                  });\n                  this.props.show(3);\n                }}>\n                  {this.state.filter1[3]}\n                </Dropdown.Item>\n                {this.props.type == 'reservation' ? (\n                  <Dropdown.Item\n                  active={this.state.choise1 == 4}\n                  onClick={() => {\n                    this.setState({\n                      choise1: 4\n                    });\n                    this.props.show(4);\n                  }}>\n                    {this.state.filter1[4]}\n                  </Dropdown.Item>\n                ) : (\n                  <></>\n                )}\n              </Dropdown.Menu>\n            </Dropdown>\n          </div>\n          <div\n          className='col-6 d-flex flex-row-reverse align-items-center'>\n          <Dropdown>\n            <Dropdown.Toggle>\n              {this.state.filter2[0]}\n            </Dropdown.Toggle>\n            <Dropdown.Menu>\n              <Dropdown.Item\n              active={this.state.choise2 == 1}\n              onClick={(e) => {\n                this.setState({\n                  choise2: 1\n                });\n                this.props.sort(true);\n              }}>\n                {this.state.filter2[1]}\n              </Dropdown.Item>\n              <Dropdown.Item\n              active={this.state.choise2 == 2}\n              onClick={() => {\n                this.setState({\n                  choise2: 2\n                });\n                this.props.sort(false);\n              }}>\n                {this.state.filter2[2]}\n              </Dropdown.Item>\n            </Dropdown.Menu>\n          </Dropdown>\n          </div>\n        </div>\n      );\n    }\n  }\n}","import React from 'react';\n\nimport { Navbar, Container, Form, FormControl } from 'react-bootstrap';\n\nimport { Hamburger } from './hamburger';\nimport { Filters } from './filters';\n\nexport class Header extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isAuthenticated: props.isAuthenticated\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({\n      isAuthenticated: nextProps.isAuthenticated\n    });  \n  }\n\n  render() {\n    return (\n      <div>\n        <Navbar\n        className='bg-light w-100'\n        expand='false'>\n          <Container\n          fluid>\n            <Navbar.Brand\n            href='/user/index.html'\n            className='p-0 m-0'>\n              <img\n                src='https://cdn.discordapp.com/attachments/888778821262790686/926860373775249469/nolonoloplus.png'\n                alt='logo NoloNoloPlus'\n                height='45px'/>\n            </Navbar.Brand>\n            { this.props.type == 'user'\n              ? 'Pagina utente'\n              : <Form\n                className='element-to-hide-under-350'\n                style={{ width: '60%' }}\n                onSubmit={(e) => {\n                  e.preventDefault();\n                  this.props.search(e.target.searchInput.value);\n                }}>\n                <FormControl\n                  type='search'\n                  placeholder='Cerca... '\n                  name='searchInput'\n                  className='me-2'\n                  aria-label='Cerca prodotti'/>\n              </Form>\n            }\n            <Navbar.Toggle\n            style={{\n              height: '45px',\n              width: '45px',\n              padding: '0px'\n            }}\n            aria-controls='navbarScroll'/>\n            <Navbar.Collapse\n              id='navbarScroll'>\n              <Hamburger\n                isAuthenticated={this.state.isAuthenticated}\n                type={this.props.type}/>\n            </Navbar.Collapse>\n          </Container>\n        </Navbar>\n        <Filters\n          show={this.props.show}\n          sort={this.props.sort}\n          type={this.props.type}/>\n      </div>\n    );\n  }\n}","import React from 'react';\n\nimport Cookie from 'js-cookie';\n\nimport ApiCall from '../services/apiCall';\nimport { List } from './list';\nimport { Header } from './header';\n\nexport class Product extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      products: [],\n      filteredProducts: [],\n      isAuthenticated: false\n    }\n    this.searchProducts = this.searchProducts.bind(this);\n    this.showProducts = this.showProducts.bind(this);\n    this.sortProducts = this.sortProducts.bind(this);\n  }\n\n  // Functions called by header, rendered by List\n\n  searchProducts(filter) {\n    console.log('searchProducts(' + filter + ')');\n    ApiCall.getAllProduct(filter, true).then((result) => {\n      this.setState({\n        products: result.data.data,\n        filteredProducts: result.data.data\n      });\n    });\n  }\n\n  showProducts(type) {\n    // type == 1: all products\n    // type == 2: available\n    // type == 3: unavailable\n    console.log('showProducts(' + type + ')');\n    let products = [];\n    if(type > 1) {\n      let isAvailable = type == 2 ? true : false\n      for(let index in this.state.products) {\n        if(this.state.products[index].available == isAvailable) {\n          products.push(this.state.products[index]);\n        }\n      }\n    } else {\n      products = this.state.products;\n    }\n    this.setState({\n      filteredProducts: products\n    });\n  }\n\n  sortProducts(isIncreasing) {\n    console.log('sortProducts(' + isIncreasing + ')');\n    let products = this.state.products;\n    products.sort((a, b) => {\n      return a.price - b.price;\n    });\n    if(isIncreasing == false) {\n      products.reverse();\n    }\n    this.setState({\n      products: products,\n      filteredProducts: products\n    });\n  }\n  \n  componentDidMount() {\n    this.searchProducts('');\n    if(Cookie.get('jwt')) {\n      ApiCall.getUser().then(() => {\n        this.setState({\n          isAuthenticated: true\n        });\n      }).catch(() => {\n        this.setState({\n          isAuthenticated: false\n        });\n      });\n    }\n  }\n\n  render() {\n    return (\n      <>\n        <Header\n        type='product'\n        search={this.searchProducts}\n        show={this.showProducts}\n        sort={this.sortProducts}\n        isAuthenticated={this.state.isAuthenticated}/>\n        <List\n        type='product'\n        elements={this.state.filteredProducts}\n        isAuthenticated={this.state.isAuthenticated}/>\n      </>\n    );\n  }\n}","import React, { Component } from \"react\"\nimport 'bootstrap/dist/css/bootstrap.css'\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport apiCall from '../services/apiCall'\nimport functions, { convertDateToObject } from '../services/functions'\nimport {Header} from './header.js'\n\nimport {Container, Form, Button, Row, Col} from 'react-bootstrap'\n\nexport class User extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      userId:\"\",\n      userName:\"\",\n      userSurname:\"\",\n      userBirthday: {day:\"\",month:\"\",year:\"\"},\n      userPhoneNumber:\"\",\n      userEmail:\"\",\n      userAddress:{street:\"\",number:\"\",city:\"\"},\n      userPayment:{cardType:\"\",cardName:\"\",cardSurname:\"\",cardExpireYear:\"\",cardExpireMonth:\"\",cardCVV:\"\"},\n      userSex:\"\",\n\n      yearList: [\n        {key: 1, year: '2022'},\n        {key: 2, year: '2023'}, \n        {key: 3, year: '2024'}, \n        {key: 4, year: '2025'}, \n        {key: 5, year: '2026'}\n      ],\n      monthList: [\n        {key: 1, month: 'Gennaio'},\n        {key: 2, month: 'Febbraio'},\n        {key: 3, month: 'Marzo'},\n        {key: 4, month: 'Aprile'},\n        {key: 5, month: 'Maggio'},\n        {key: 6, month: 'Giugno'},\n        {key: 7, month: 'Luglio'},\n        {key: 8, month: 'Agosto'},\n        {key: 9, month: 'Settembre'},\n        {key: 10, month: 'Ottobre'},\n        {key: 11, month: 'Novembre'},\n        {key: 12, month: 'Dicembre'}\n      ],      \n      \n      //Copy\n      newSex: \"\",\n      newCardType: \"\",\n      newExprYear: \"\",\n      newExprMonth: \"\",\n      newBirthday: {year: \"\", month: \"\", day: \"\"},\n      \n      //Settings\n      boolModifying: false,\n      isAuth: false,\n    }\n    \n    this.switchModifying = this.switchModifying.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidMount() {\n    apiCall.getUser().then((result) => {\n      this.setState({\n        //Init\n        userId: result.data.data._id,\n        userName: result.data.data.userName,\n        userSurname: result.data.data.userSurname,\n        userBirthday: {\n          day: result.data.data.birthday.day,\n          month: result.data.data.birthday.month,\n          year: result.data.data.birthday.year\n        },\n        userPhoneNumber: result.data.data.phoneNumber,\n        userEmail: result.data.data.email,\n        userAddress: {\n          street: result.data.data.address.addressStreet,\n          number: result.data.data.address.addressNumber,\n          city: result.data.data.address.addressCity\n        },\n        userPayment: {\n          cardName: result.data.data.payment.cardName,\n          cardSurname: result.data.data.payment.cardSurname,\n          cardType: result.data.data.payment.cardType,\n          cardExpireYear: result.data.data.payment.cardExpireYear,\n          cardExpireMonth: result.data.data.payment.cardExpireMonth,\n          cardCVV: result.data.data.payment.cardCVV\n        },\n        userSex: result.data.data.sex,\n\n        //Copy\n        newSex: result.data.data.sex,\n        newCardType: result.data.data.payment.cardType,\n        newExprYear: result.data.data.payment.cardExpireYear,\n        newExprMonth: result.data.data.payment.cardExpireMonth,\n        newBirthday: {year: result.data.data.birthday.year, month: result.data.data.birthday.month, day: result.data.data.birthday.day},\n\n        //Settings\n        isAuth: true\n      })\n    })\n  }\n\n  switchModifying = () => {\n    const boolModifying = !this.state.boolModifying;\n    this.setState({boolModifying: boolModifying});\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    var tmp = event.target.querySelectorAll('input');\n\n    if (this.state.boolModifying) {\n      // Preparo la query da inviare al server\n      var query = {};\n      // Preparo l'indirizzo e il pagamento (oggetto)\n      var address = {\n        addressCity: '',\n        addressStreet: '',\n        addressNumber: ''\n      }\n      var payment = {\n        cardName: \"\",\n        cardSurname: \"\",\n        cardExpireYear: this.state.newExprYear,\n        cardExpireMonth: this.state.newExprMonth,\n        cardType: this.state.newCardType,\n        cardCVV: \"\"\n      }\n      for (var i in tmp) {\n        if(tmp[i].name == 'userAddressCity') {\n          address.addressCity = tmp[i].value ? tmp[i].value : tmp[i].placeholder;\n        } else if(tmp[i].name == 'userAddressStreet') {\n          address.addressStreet = tmp[i].value ? tmp[i].value : tmp[i].placeholder;\n        } else if(tmp[i].name == 'userAddressNumber') {\n          address.addressNumber = tmp[i].value ? tmp[i].value : tmp[i].placeholder;\n        } else if(tmp[i].name == 'userPaymentName') {\n          payment.cardName = tmp[i].value ? tmp[i].value : tmp[i].placeholder;\n        } else if(tmp[i].name == 'userPaymentSurname') {\n          payment.cardSurname = tmp[i].value ? tmp[i].value : tmp[i].placeholder;\n        } else if(tmp[i].name == 'userPaymentCVV') {\n          payment.cardCVV = tmp[i].value ? tmp[i].value : tmp[i].placeholder;\n        }\n      }\n\n\n      // Controllo le modifiche degli Input\n      for (var i in tmp) {\n        if(tmp[i].value && tmp[i].placeholder) {\n          if(tmp[i].value != '' && tmp[i].value != tmp[i].placeholder) {\n            if(tmp[i].name == 'userAddressCity' || tmp[i].name == 'userAddressStreet' || tmp[i].name == 'userAddressNumber') {\n              // È stato modificato l'indirizzo\n              query.address = address\n            } else if(tmp[i].name == 'userPaymentName' || tmp[i].name == 'userPaymentSurname' || tmp[i].name == 'userPaymentCVV') {\n              // È stato modificato il nome o cognome del metodo di pagamento\n              query.payment = payment\n            } else {\n              query[tmp[i].name] = tmp[i].value;\n            }           \n          }\n        }\n      }\n\n      // Controllo le modifiche degli Selector\n      if(this.state.userSex != this.state.newSex) {\n        query.sex = this.state.newSex;\n      }\n      if(this.state.newCardType != this.state.userPayment.cardType || this.state.newExprMonth != this.state.userPayment.cardExpireMonth || this.state.newExprYear != this.state.userPayment.cardExpireYear) {\n        query.payment = payment;\n      }\n      // Controllo della data\n      if(\n        this.state.newBirthday.day != this.state.userBirthday.day ||\n        this.state.newBirthday.month != this.state.userBirthday.month ||\n        this.state.newBirthday.year != this.state.userBirthday.year\n        ) {\n        query.birthday = this.state.newBirthday;\n      }\n\n      //Controllo della query\n      console.log(query);\n\n      //apiCall.postUser(null, query).then(() => {\n      //    alert('success');\n      //  }).catch(() => {\n      //    alert('error');\n      //  });\n    }\n    this.switchModifying();\n  }\n\n  handleChange(event) {\n    this.setState({value: event.target.value});\n  }\n\n  render() {\n    return (\n      <>\n      <Header type={\"user\"} isAuthenticated={this.state.isAuth} />\n      <Container className=\"mb-2 pt-2\">\n        <form onSubmit={this.handleSubmit}>\n          <fieldset disabled={!this.state.boolModifying} >\n            <Form.Group className=\"mb-2\">\n              <Form.Label>User Name:</Form.Label>\n              <Form.Control type=\"text\" name=\"userName\" placeholder={this.state.userName} aria-label=\"Username\" aria-describedby=\"basic-addon1\"/>\n            </Form.Group>   \n\n            <Form.Group className=\"mb-2\">\n              <Form.Label>User Surname:</Form.Label>\n              <Form.Control type=\"text\" name=\"userSurname\" placeholder={this.state.userSurname} />\n            </Form.Group>    \n\n            <Form.Group className=\"mb-2\">\n              <Form.Label>User Password:</Form.Label>\n              <Form.Control type=\"password\" name=\"password\" placeholder=\"password\" />\n            </Form.Group>\n\n            <Form.Label>User Sex:</Form.Label>\n            <Form.Select className=\"mb-2\" \n            value={this.state.newSex}\n            onChange={(event) => {this.setState({newSex: event.target.value})} } \n            aria-label=\"Form Select Sex\">\n              <option value=\"male\">Male</option>\n              <option value=\"female\">Female</option>\n              <option value=\"other\">Other</option>\n            </Form.Select>\n\n            <Form.Group as={Col} className=\"mb-2\">\n              <Form.Label>User Birthday:</Form.Label>\n              <Form.Control type=\"date\" \n              value={this.state.newBirthday.year + \"-\" + this.state.newBirthday.month + \"-\" + this.state.newBirthday.day} \n              name=\"userBirthday\"\n              onChange={(event)=>{\n                var x = event.target.value.split('-');\n                this.setState({newBirthday: {year: x[0], month: x[1], day: x[2]}})\n              }}/>\n            </Form.Group>\n            \n            <Form.Group as={Col} className=\"mb-2\">\n              <Form.Label>Address City:</Form.Label>\n              <Form.Control type=\"text\" name=\"userAddressCity\" placeholder={this.state.userAddress.city} />\n            </Form.Group>\n              \n            <Row>\n              <Form.Group as={Col} xs={8} className=\"mb-2\">\n                <Form.Label>Address Street:</Form.Label>\n                <Form.Control type=\"text\" name=\"userAddressStreet\" placeholder={this.state.userAddress.street} />\n              </Form.Group>\n\n              <Form.Group as={Col} xs={4} className=\"mb-2\">\n                <Form.Label>Number:</Form.Label>\n                <Form.Control type=\"text\" name=\"userAddressNumber\" placeholder={this.state.userAddress.number} />\n              </Form.Group>\n            </Row>\n\n            <Form.Group className=\"mb-2\">\n              <Form.Label>User Phone Number:</Form.Label>\n              <Form.Control type=\"text\" name=\"userPhoneNumber\" placeholder={this.state.userPhoneNumber} />\n            </Form.Group>\n            \n            <Form.Group className=\"mb-2\">\n              <Form.Label>User Email:</Form.Label>\n              <Form.Control type=\"email\" name=\"userEmail\" readOnly disabled placeholder={this.state.userEmail} />\n            </Form.Group>\n            \n            <Form.Group className=\"mt-1 mb-2\">\n              <Form.Label>Card Name:</Form.Label>\n              <Form.Control type=\"text\" name=\"userPaymentName\" placeholder={this.state.userPayment.cardName} />\n            </Form.Group>\n            \n            <Form.Group className=\"mt-1 mb-2\">\n              <Form.Label>Card Surname:</Form.Label>\n              <Form.Control type=\"text\" name=\"userPaymentSurname\" placeholder={this.state.userPayment.cardSurname} />\n            </Form.Group>\n            \n            <Form.Label>Tipo di carta:</Form.Label>\n            <Form.Select className=\"mb-2\" \n            value={this.state.newCardType}\n            onChange={(event) => {this.setState({newCardType: event.target.value})} } \n            aria-label=\"Form Select Card Type\">\n              <option value=\"debit\">Carta di debito</option>\n              <option value=\"credit\">Carta di credito</option>\n              <option value=\"prepaid\">Carta prepagata</option>\n            </Form.Select>\n            \n            <Row>\n              <Form.Label>Card Expiration:</Form.Label>\n              <Col xs={8} className=\"mr-2\">\n                <Form.Select className=\"mb-2 mr-0\" \n                value={this.state.newExprMonth}\n                onChange={(event) => {this.setState({newExprMonth: event.target.value})} } \n                aria-label=\"Select Card Expiration Month\">\n                  {this.state.monthList.map( month => (\n                    <option key={month.key} value={month.key}>{month.month}</option>\n                  ))}\n                </Form.Select>\n              </Col>\n              <Col xs={4} className=\"ml-0\">\n                <Form.Select className=\"mb-2\" \n                value={this.state.newExprYear}\n                onChange={(event) => {this.setState({newExprYear: event.target.value})} }\n                aria-label=\"Select Card Expiration Year\">\n                  {this.state.yearList.map( year => (\n                    <option key={year.key} value={parseInt(year.key) + 2021}>{year.year}</option>\n                  ))}\n                </Form.Select>\n              </Col>    \n            </Row>\n            \n            <Form.Group className=\"mb-2\">\n              <Form.Label>Card CVV:</Form.Label>\n              <Form.Control\n              type=\"text\"\n              name=\"userPaymentCVV\"\n              placeholder={this.state.userPayment.cardCVV} />\n            </Form.Group>\n          </fieldset>\n          \n          <Button type=\"submit\" value=\"submit\" variant={this.state.boolModifying ? \"success\" : \"primary\"}>\n            {this.state.boolModifying ? \"Salva\" : \"Modifica\"}\n          </Button>\n\n        </form>\n      </Container>\n      </>\n    );\n  }\n}","import React from \"react\"\n\nimport Cookie from 'js-cookie';\n\nimport ApiCall from \"../services/apiCall\";\nimport { Header } from \"./header\";\nimport { List } from \"./list\";\n\nexport class Reservation extends React.Component{\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      reservations: [],\n      filteredReservations: [],\n      isAuthenticated: false\n    }\n    this.searchReservations = this.searchReservations.bind(this);\n    this.showReservations = this.showReservations.bind(this);\n    this.sortReservations = this.sortReservations.bind(this);\n  }\n\n  // Functions called by header, rendered by List\n\n  searchReservations(filter) {\n    console.log('searchReservations(' + filter + ')');\n    ApiCall.getAllReservation(filter, true).then((result) => {\n      this.setState({\n        reservations: result.data.obj,\n        filteredReservations: result.data.obj\n      });\n    });\n  }\n\n  showReservations(type) {\n    // type == 1: all products\n    // type == 2: not started\n    // type == 3: active\n    // type == 4: closed\n    console.log('showReservations(' + type + ')');\n    let reservations = [];\n    if(parseInt(type) > 1) {\n      for(let index in this.state.reservations) {\n        switch(parseInt(type)) {\n          case 2:\n            if(this.state.reservations[index].isTaken == false && this.state.reservations[index].isReturned == false) {\n              reservations.push(this.state.reservations[index]);\n            }\n            break;\n          case 3:\n            if(this.state.reservations[index].isTaken == true && this.state.reservations[index].isReturned == false) {\n              reservations.push(this.state.reservations[index]);\n            }\n            break;\n          case 4:\n            if(this.state.reservations[index].isTaken == true && this.state.reservations[index].isReturned == true) {\n              reservations.push(this.state.reservations[index]);\n            }\n            break;\n          default:\n            return\n        }\n      }\n    } else {\n      reservations = this.state.reservations;\n    }\n    this.setState({\n      filteredReservations: reservations\n    });\n  }\n\n  sortReservations(isIncreasing) {\n    console.log('sortReservations(' + isIncreasing + ')');\n    let reservations = this.state.reservations;\n    reservations.sort((a, b) => {\n      return new Date(a.bookingDate.year, a.bookingDate.month, a.bookingDate.day,) - new Date(b.bookingDate.year, b.bookingDate.month, b.bookingDate.day);\n    });\n    if(isIncreasing == false) {\n      reservations.reverse();\n    }\n    this.setState({\n      reservations: reservations,\n      filteredReservation: reservations\n    });\n  }\n\n  componentDidMount() {\n    this.searchReservations('');\n    if(Cookie.get('jwt')) {\n      ApiCall.getUser().then(() => {\n        this.setState({\n          isAuthenticated: true\n        });\n      }).catch(() => {\n        this.setState({\n          isAuthenticated: false\n        });\n      });\n    }\n  }\n\n\trender() {\n\t\treturn (\n      <>\n        <Header\n        type='reservation'\n        search={this.searchReservations}\n        show={this.showReservations}\n        sort={this.sortReservations}\n        isAuthenticated={this.state.isAuthenticated}/>\n        <List\n        type='reservation'\n        elements={this.state.filteredReservations}\n        isAuthenticated={this.state.isAuthenticated}/>\n      </>\n\t\t);\n\t}\n}","import './css/App.css';\nimport React from 'react';\n\nimport 'bootstrap/dist/css/bootstrap.css';\nimport { Product } from './components/product'\nimport { User } from './components/user';\nimport { Reservation } from './components/reservation';\nimport { Invoice } from './components/invoice';\n\nimport { Routes, Route } from \"react-router-dom\";\n\nfunction App() {\n  return (\n    <div className='App'>\n      <Routes>\n        <Route path=\"/user/index.html\" element={<Product/>} />\n        <Route path=\"/user/page\" element={<User/>} />\n        <Route path=\"/user/reservation\" element={<Reservation/>} />\n        <Route path=\"/user/invoice\" element={<Invoice/>} />\n      </Routes>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <App/>\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}
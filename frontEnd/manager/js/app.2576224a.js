(function(e){function t(t){for(var i,r,l=t[0],n=t[1],c=t[2],u=0,m=[];u<l.length;u++)r=l[u],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&m.push(o[r][0]),o[r]=0;for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);d&&d(t);while(m.length)m.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],i=!0,l=1;l<a.length;l++){var n=a[l];0!==o[n]&&(i=!1)}i&&(s.splice(t--,1),e=r(r.s=a[0]))}return e}var i={},o={app:0},s=[];function r(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=i,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(a,i,function(t){return e[t]}.bind(null,i));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],n=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var d=n;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";a("85ec")},1351:function(e,t,a){"use strict";a("9bc3")},"21b7":function(e,t,a){"use strict";a("b91a")},4678:function(e,t,a){var i={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf755","./tlh.js":"cf755","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function o(e){var t=s(e);return a(t)}function s(e){if(!a.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}o.keys=function(){return Object.keys(i)},o.resolve=s,e.exports=o,o.id="4678"},"53dd":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("2b0e"),o=a("2b27"),s=a.n(o),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("nav",{staticClass:"navbar navbar-dark bg-dark"},[e._m(0),a("div",{staticClass:"input-group "},[a("button",{staticClass:"btn btn-secondary dropdown-toggle",attrs:{id:"dropNavBar",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}},[e._v(e._s(e.selected))]),a("div",{staticClass:"dropdown-menu dropdown-menu-right"},[a("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(t){e.selected="Articoli"}}},[e._v("Articoli")]),a("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(t){e.selected="Clienti"}}},[e._v("Clienti")]),a("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(t){e.selected="Prenotazioni"}}},[e._v("Prenotazioni")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.text,expression:"text"}],staticClass:"form-control",attrs:{id:"searchText",type:"text",placeholder:"Cerca...","aria-label":"Barra di ricerca"},domProps:{value:e.text},on:{input:function(t){t.target.composing||(e.text=t.target.value)}}}),a("button",{staticClass:"btn btn-secondary",attrs:{type:"button",id:"searchButton"},on:{click:function(t){return e.search()}}},[e._v("Cerca")])]),e._m(1)]),a("div",{staticClass:"collapse text-center text-light bg-dark",attrs:{id:"navbarToggleExternalContent"}},[a("div",{staticClass:"bg-dark p-2"},[a("p",[a("a",{attrs:{href:"/public/login.html"},on:{click:e.logOut}},[e._v("Logout")])]),a("p",[a("a",{attrs:{href:"javascript:void(null);"},on:{click:e.create}},[e._v(" Aggiungi articolo ")])]),a("p",[a("a",{attrs:{href:"javascript:void(null);"},on:{click:e.analyticsClient}},[e._v("Analytics Clienti")])]),a("p",[a("a",{attrs:{href:"javascript:void(null);"},on:{click:e.analyticsAll}},[e._v("Analytics Catalogo")])])])]),a("router-view",{key:e.$route.fullPath,on:{clicked:e.backToCatalog}})],1)},l=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a",{attrs:{href:"/manager/index.html"}},[a("img",{staticClass:"moveright",attrs:{src:"https://cdn.discordapp.com/attachments/888778821262790686/926860373775249469/nolonoloplus.png",alt:"logo NoloNoloPlus",height:"40px"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"navbar-toggler moveleft",attrs:{type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarToggleExternalContent","aria-controls":"navbarToggleExternalContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])}],n=a("d4ec"),c=a("bee2"),d=(a("4de4"),a("4e82"),a("bc3a")),u=a.n(d),m=a("db49"),v=a.n(m),b=u.a.create({baseURL:v.a.site202131Url,headers:{"Content-type":"application/json","Access-Control-Allow-Origin":"*",dataType:"jsonp",credentials:"include"}}),p=function(){function e(){Object(n["a"])(this,e)}return Object(c["a"])(e,[{key:"checkCookie",value:function(){console.log("Cookie"),b.get("/api/public/auth").then((function(e){2!==e.data.obj&&(window.location=v.a.site202131Url+"/public/login.html")})).catch((function(e){window.location=v.a.site202131Url+"/public/login.html"}))}},{key:"getProduct",value:function(e){return b.get("/api/product/?id="+e)}},{key:"getAllProduct",value:function(e){return b.get("/api/product/all/?filter="+e.filter+"&sort="+e.sort)}},{key:"saveDataProduct",value:function(e,t){return b.post("/api/product?id="+e,t)}},{key:"addProduct",value:function(e){return b.post("/api/product",e)}},{key:"deleteProduct",value:function(e){return b.delete("/api/product?id="+e)}},{key:"getUser",value:function(e){return b.get("/api/user?email="+e)}},{key:"getAllUser",value:function(e){return b.get("/api/user/all?filter="+e.filter+"&sort="+e.sort)}},{key:"saveDataClient",value:function(e,t){return b.post("/api/user?id="+e,t)}},{key:"deleteUser",value:function(e){return b.delete("/api/user?id="+e)}},{key:"getReservation",value:function(e){return b.get("/api/reservation/?id="+e)}},{key:"getAllReservation",value:function(e){return b.get("/api/reservation/all?filter="+e.filter+"&sort="+e.sort)}},{key:"saveReservation",value:function(e,t){return b.post("/api/reservation?id="+e,t)}},{key:"addReservation",value:function(e){return b.post("/api/reservation",e)}},{key:"deleteReservation",value:function(e){return b.delete("/api/reservation/?id="+e)}},{key:"getTags",value:function(e){return b.get("/api/stat/?tag="+e)}}]),e}(),h=new p,f=(a("ab8b"),a("7b17"),{data:function(){return{catalog:[],text:"",selected:"Articoli",choice:0}},created:function(){h.checkCookie()},methods:{search:function(){this.request=this.text,"Articoli"==this.selected?this.$router.push({name:"articleCatalog",params:{filter:this.text}}).catch((function(){})):"Clienti"==this.selected?this.$router.push({name:"clientCatalog",params:{filter:this.text}}).catch((function(){})):this.$router.push({name:"reservationCatalog",params:{filter:this.text}}).catch((function(){}))},logOut:function(){this.$cookies.remove("jwt")},create:function(){this.$router.push({path:"/createArticle"}).catch((function(){}))},analyticsClient:function(){this.$router.push({name:"clientChart",params:{id:""}}).catch((function(){}))},analyticsAll:function(){this.$router.push({name:"chartCatalog"}).catch((function(){}))}}}),g=f,y=(a("034f"),a("2877")),C=Object(y["a"])(g,r,l,!1,null,null,null),S=C.exports,k=a("8c4f"),_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-fluid p-5"},e._l(e.catalog,(function(t){return a("div",{key:t._id},[a("div",{staticClass:"d-flex justify-content-center align-items-center"},[a("div",{staticClass:"card mb-1 ",staticStyle:{height:"10em",width:"60%"}},[a("div",{staticClass:"card-body h-100"},[a("div",{staticClass:"row h-100"},[a("div",{staticClass:"col-5 d-flex align-items-center h-100"},[a("img",{staticClass:"myImg",attrs:{tabindex:"0",alt:"immagine "+t.title+" "+t.brand,src:t.image}})]),a("div",{staticClass:"col-7",staticStyle:{height:"100%"}},[a("h2",{staticClass:"mb-2 text-truncate"},[a("router-link",{attrs:{to:{name:"article",params:{id:t._id}}}},[e._v(e._s(t.title+" "+t.brand))])],1),a("div",{staticClass:"row"},[a("div",{staticClass:"col-5"},[t.discount.onSale?a("div",{staticClass:"mb-2 price",attrs:{tabindex:"0","aria-label":"Prezzo fisso: "+e.discount(t)}},[a("s",[e._v(e._s(t.fixedPrice)+"€ ")]),e._v(" "+e._s(e.discount(t))+"€ ")]):a("div",{staticClass:"mb-2 price",attrs:{tabindex:"0","aria-label":"Prezzo fisso: "+t.fixedPrice}},[e._v(e._s(t.fixedPrice)+"€")])]),a("div",{staticClass:"col-5"},[a("div",{staticClass:"mb-2 price",attrs:{tabindex:"0","aria-label":"Prezzo giornaliero: "+t.price}},[e._v(" "+e._s(t.price)+" €/giorno ")])])]),a("div",{attrs:{tabindex:"0","aria-label":t.quality+" stella/e su tre"}},[e._l(parseInt(t.quality),(function(e){return a("span",{key:e,staticClass:"fa fa-star checked big-size"})})),e._l(3-parseInt(t.quality),(function(e){return a("span",{key:e,staticClass:"fa fa-star big-size"})}))],2)])])])])])])})),0)},D=[],x={data:function(){return{catalog:[]}},mounted:function(){this.getArticles()},update:function(){this.catalog=[],this.getArticles()},methods:{getArticles:function(){var e=this,t=void 0!==this.$route.params.filter?this.$route.params.filter:"",a={filter:t,sort:!1};console.log(a),h.getAllProduct(a).then((function(t){console.log(t),e.catalog=t.data.data}))},discount:function(e){return e.discount.onSaleType?e.fixedPrice-e.discount.onSaleValue:e.fixedPrice-e.fixedPrice*e.discount.onSaleValue/100}}},P=x,w=(a("21b7"),Object(y["a"])(P,_,D,!1,null,null,null)),M=w.exports,z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-fluid p-5"},e._l(e.catalog,(function(t){return a("div",{key:t._id},[a("div",{staticClass:"d-flex justify-content-center align-items-center"},[a("div",{staticClass:"card mb-1",staticStyle:{height:"10em",width:"60%"}},[a("div",{staticClass:"card-body h-100"},[a("div",{staticClass:"row h-100"},[e._m(0,!0),a("div",{staticClass:"col-8 text-truncate",staticStyle:{height:"100%"}},[a("h2",[a("router-link",{attrs:{tabindex:"0","aria-label":"link a cliente"+t.email,to:{name:"client",params:{email:t.email}}}},[e._v(e._s(t.userName+" "+t.userSurname))])],1),a("h4",{attrs:{tabindex:"0"}},[e._v("Email: "+e._s(t.email))]),a("h4",{attrs:{tabindex:"0","aria-label":"numero di telefono: "+t.phoneNumber}},[e._v("Telefono: "+e._s(t.phoneNumber))])])])])])])])})),0)},T=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-4 align-items-center h-100"},[a("img",{staticClass:"myImg ",attrs:{src:"https://upload.wikimedia.org/wikipedia/commons/9/99/Sample_User_Icon.png",tabindex:"0",alt:"Immagine utente generica"}})])}],j={data:function(){return{catalog:[]}},mounted:function(){var e=this,t=void 0!==this.$route.params.filter?this.$route.params.filter:"",a={filter:t,sort:!1};console.log(a),h.getAllUser(a).then((function(t){console.log(t),e.catalog=t.data.data}))}},O=j,N=Object(y["a"])(O,z,T,!1,null,null,null),V=N.exports,I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-fluid "},[a("button",{staticClass:"btn btn-secondary dropdown-toggle mt-2",attrs:{id:"dropNavRes","aria-label":"selettore delle prenotazioni",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}},[e._v(e._s(e.text))]),a("div",{staticClass:"dropdown-menu dropdown-menu-right"},[a("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(t){e.selectedFilter="all",e.changeFilter()}}},[e._v("Tutte")]),a("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(t){e.selectedFilter="active",e.changeFilter()}}},[e._v("Attive")]),a("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(t){e.selectedFilter="old",e.changeFilter()}}},[e._v("Passate")])]),e._l(e.reservations,(function(t){return a("div",{key:t._id},[a("div",{staticClass:"d-flex justify-content-center align-items-center"},[a("div",{staticClass:"card mb-1 ",staticStyle:{height:"10em",width:"60%"}},[a("div",{staticClass:"card-body h-100"},[a("div",{staticClass:"row h-100"},[a("div",{staticClass:"col-5 align-items-center h-100"},[a("img",{staticClass:"myImg ",attrs:{tabindex:"0",alt:"immagine"+t.productTitle+" "+t.productBrand,src:t.productImage}})]),a("div",{staticClass:"col-7",staticStyle:{height:"100%"}},[a("h4",{staticClass:"text-truncate"},[e._v("Id: "),a("router-link",{attrs:{"aria-label":"Id prenoatazione"+t._id,to:{name:"reservation",params:{id:t._id}}}},[e._v(e._s(t._id))])],1),a("h4",{staticClass:"text-truncate"},[e._v("Articolo: "),a("router-link",{attrs:{"aria-label":"Articolo prenotato: "+t.productTitle+" "+t.productBrand,to:{name:"article",params:{id:t.productId}}}},[e._v(e._s(t.productTitle+" "+t.productBrand))])],1),a("h4",{staticClass:"text-truncate"},[e._v("Cliente: "),a("router-link",{attrs:{"aria-label":"email cliente prenotante"+t.clientEmail,to:{name:"client",params:{email:t.clientEmail}}}},[e._v(e._s(t.clientEmail))])],1)])])])])])])}))],2)},q=[],E={data:function(){return{text:"Tutte",reservations:[],catalog:[],selectedFilter:"all"}},mounted:function(){var e=this,t=void 0!==this.$route.params.filter?this.$route.params.filter:"",a={filter:t,sort:!1};h.getAllReservation(a).then((function(t){for(var a in console.log(t),e.catalog=t.data.obj,e.catalog)e.reservations.push(e.catalog[a])}))},methods:{changeFilter:function(){var e=new Date,t=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate();if(this.reservations=[],"all"==this.selectedFilter)for(var a in this.text="Tutte",this.catalog)this.reservations.push(this.catalog[a]);else if("active"==this.selectedFilter)for(var i in this.text="Attive",this.catalog){var o=this.catalog[i].endDate.year+"-"+this.catalog[i].endDate.month+"-"+this.catalog[i].endDate.day;t<=o&&this.reservations.push(this.catalog[i])}else if("old"==this.selectedFilter)for(var s in this.text="Passate",this.catalog){var r=this.catalog[s].endDate.year+"-"+this.catalog[s].endDate.month+"-"+this.catalog[s].endDate.day;t>=r&&this.reservations.push(this.catalog[s])}}},computed:{}},A=E,R=Object(y["a"])(A,I,q,!1,null,null,null),$=R.exports,F=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-fluid d-flex justify-content-center"},[a("div",{staticClass:"w-50"},[a("form",{attrs:{name:"myform"},on:{submit:function(t){return t.preventDefault(),e.createArticle.apply(null,arguments)}}},[a("h1",{staticClass:"mb-4"},[e._v(" Aggiungi articolo ")]),a("div",{staticClass:"form-floating mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"title"}],staticClass:"form-control",attrs:{type:"text","aria-label":"Titolo, campo obbligatorio",required:""},domProps:{value:e.title},on:{input:function(t){t.target.composing||(e.title=t.target.value)}}}),a("label",{attrs:{for:"title"}},[e._v(" Titolo*")])]),a("div",{staticClass:"form-floating mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.brand,expression:"brand"}],staticClass:"form-control",attrs:{type:"text","aria-label":"Brand"},domProps:{value:e.brand},on:{input:function(t){t.target.composing||(e.brand=t.target.value)}}}),a("label",{attrs:{for:"brand"}},[e._v(" Brand ")])]),a("div",{staticClass:"form-floating mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.image,expression:"image"}],staticClass:"form-control",attrs:{type:"url","aria-label":"Immagine, inserire URL campo obbligatorio",required:""},domProps:{value:e.image},on:{input:function(t){t.target.composing||(e.image=t.target.value)}}}),a("label",{attrs:{for:"image"}},[e._v(" Immagine* (Inserisci URL)")])]),a("div",{staticClass:"form-floating mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.tags,expression:"tags"}],staticClass:"form-control",attrs:{type:"text","aria-label":"Categorie, separare con spazio o virgola"},domProps:{value:e.tags},on:{input:function(t){t.target.composing||(e.tags=t.target.value)}}}),a("label",{attrs:{for:"tags"}},[e._v(" Etichette (separare con spazio o virgola)")])]),a("div",{staticClass:"form-floating mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.quality,expression:"quality"}],staticClass:"form-control",attrs:{type:"number",min:"1",max:"3",step:"1","aria-label":"Qualità: da 1 a 3",required:""},domProps:{value:e.quality},on:{input:function(t){t.target.composing||(e.quality=t.target.value)}}}),a("label",{attrs:{for:"quality"}},[e._v(" Qualità*")])]),a("div",{staticClass:"form-floating mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.fixedPrice,expression:"fixedPrice"}],staticClass:"form-control",attrs:{type:"number",min:"1",step:"1","aria-label":"Prezzo fisso, campo obbligatorio",required:""},domProps:{value:e.fixedPrice},on:{keyup:e.newPrice,input:function(t){t.target.composing||(e.fixedPrice=t.target.value)}}}),a("label",{attrs:{for:"fixedPrice"}},[e._v(" Prezzo Fisso*")])]),a("div",{staticClass:"row mb-3",attrs:{id:"saleRow"}},[e._m(0),a("div",{staticClass:"col-9 "},[a("div",{staticClass:" form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.onSale,expression:"onSale"}],staticClass:"form-check-input",attrs:{type:"checkbox","aria-label":"seleziona per scegliere sconto percentuale o fisso sul prezzo fisso"},domProps:{checked:Array.isArray(e.onSale)?e._i(e.onSale,null)>-1:e.onSale},on:{change:[function(t){var a=e.onSale,i=t.target,o=!!i.checked;if(Array.isArray(a)){var s=null,r=e._i(a,s);i.checked?r<0&&(e.onSale=a.concat([s])):r>-1&&(e.onSale=a.slice(0,r).concat(a.slice(r+1)))}else e.onSale=o},e.newPrice]}}),e.onSale?a("label",{staticClass:"form-check-label",attrs:{tabindex:"0",for:"sale"}},[e._v("L'articolo verrà scontato")]):a("label",{staticClass:"form-check-label",attrs:{tabindex:"0",for:"sale"}},[e._v("Il prodotto non è scontato")])])])]),e.onSale?[a("div",{staticClass:"mt-2",attrs:{id:"saleInfo"}},[a("div",{staticClass:"row"},[e._m(1),a("div",{staticClass:"col-3"},[a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.onSaleType,expression:"onSaleType"}],staticClass:"form-check-input",attrs:{"aria-label":"Sconto percentuale, seleziona uno dei due",type:"radio",id:"percentage",required:""},domProps:{value:!0,checked:e._q(e.onSaleType,!0)},on:{click:e.changeType,change:function(t){e.onSaleType=!0}}}),a("label",{staticClass:"form-check-label",attrs:{for:"percentage"}},[e._v("Percentuale")])])]),a("div",{staticClass:"col-3"},[a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.onSaleType,expression:"onSaleType"}],staticClass:"form-check-input",attrs:{tabindex:"0","aria-label":"Sconto fisso, seleziona uno dei due",type:"radio",id:"flat",required:""},domProps:{value:!1,checked:e._q(e.onSaleType,!1)},on:{click:e.changeType,change:function(t){e.onSaleType=!1}}}),a("label",{staticClass:"form-check-label",attrs:{for:"flat"}},[e._v("Fisso")])])])]),a("div",{staticClass:"row"},[e._m(2),a("div",{staticClass:"col-9"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.onSaleValue,expression:"onSaleValue"}],staticClass:"form-control",attrs:{type:"number","aria-label":"valore sconto, campo obbligatorio",min:"1",step:"1",id:"saleValue",required:""},domProps:{value:e.onSaleValue},on:{keyup:e.newPrice,input:function(t){t.target.composing||(e.onSaleValue=t.target.value)}}})])]),a("div",{staticClass:"row mt-2 mb-2"},[a("div",{staticClass:"col-3"},[e._v("Prezzo scontato:")]),a("div",{staticClass:"col-9"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newTotal,expression:"newTotal"}],staticClass:"form-control",attrs:{type:"number",tabindex:"0","aria-label":"Prezzo fisso scontato, sola lettura. Se negativo questo valore è negativo non si potrà aggiungere il prodotto al catalogo"+e.newTotal,id:"newValue",readonly:""},domProps:{value:e.newTotal},on:{input:function(t){t.target.composing||(e.newTotal=t.target.value)}}})])])])]:e._e(),a("div",{staticClass:"form-floating mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.dailyPrice,expression:"dailyPrice"}],staticClass:"form-control",attrs:{type:"number",min:"1",step:"1","aria-label":"Prezzo giornaliero, campo obbligatorio",required:""},domProps:{value:e.dailyPrice},on:{input:function(t){t.target.composing||(e.dailyPrice=t.target.value)}}}),a("label",{attrs:{for:"price"}},[e._v(" Prezzo Giornaliero*")])]),a("div",{staticClass:"row mb-3",attrs:{id:"saleRow"}},[e._m(3),a("div",{staticClass:"col-9 "},[a("div",{staticClass:" form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.overOnSale,expression:"overOnSale"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"dailySale","aria-label":"seleziona per scegliere sconto percentuale o fisso sul prezzo giornaliero"},domProps:{checked:Array.isArray(e.overOnSale)?e._i(e.overOnSale,null)>-1:e.overOnSale},on:{click:e.changeDailySale,change:function(t){var a=e.overOnSale,i=t.target,o=!!i.checked;if(Array.isArray(a)){var s=null,r=e._i(a,s);i.checked?r<0&&(e.overOnSale=a.concat([s])):r>-1&&(e.overOnSale=a.slice(0,r).concat(a.slice(r+1)))}else e.overOnSale=o}}}),e.overOnSale?a("label",{staticClass:"form-check-label",attrs:{tabindex:"0",for:"dailySale"}},[e._v("L'articolo verrà scontato")]):a("label",{staticClass:"form-check-label",attrs:{tabindex:"0",for:"dailySale"}},[e._v("Il prodotto non è scontato")])])])]),e.overOnSale?[a("div",{staticClass:"mt-2",attrs:{id:"saleInfoOver"}},[a("div",{staticClass:"row"},[e._m(4),a("div",{staticClass:"col-3"},[a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.overOnSaleType,expression:"overOnSaleType"}],staticClass:"form-check-input",attrs:{type:"radio","aria-label":"Sconto percentuale, seleziona uno dei due",id:"percentageOver",required:""},domProps:{value:!0,checked:e._q(e.overOnSaleType,!0)},on:{change:function(t){e.overOnSaleType=!0}}}),a("label",{staticClass:"form-check-label",attrs:{for:"percentageOver"}},[e._v("Percentuale")])])]),a("div",{staticClass:"col-3"},[a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.overOnSaleType,expression:"overOnSaleType"}],staticClass:"form-check-input",attrs:{type:"radio","aria-label":"Sconto fisso, seleziona uno dei due",id:"flatOver",required:""},domProps:{value:!1,checked:e._q(e.overOnSaleType,!1)},on:{change:function(t){e.overOnSaleType=!1}}}),a("label",{staticClass:"form-check-label",attrs:{for:"flatOver"}},[e._v("Fisso")])])])]),a("div",{staticClass:"row"},[e._m(5),a("div",{staticClass:"col-9"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.overOnSaleValue,expression:"overOnSaleValue"}],staticClass:"form-control",attrs:{type:"number",min:"1",step:"1",id:"saleValueOVer","aria-label":"valore sconto, campo obbligatorio",required:""},domProps:{value:e.overOnSaleValue},on:{input:function(t){t.target.composing||(e.overOnSaleValue=t.target.value)}}})])]),a("div",{staticClass:"row mt-2 mb-2"},[a("div",{staticClass:"col-3"},[e._v("Giorni da superare per sconto:")]),a("div",{staticClass:"col-9"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.overDays,expression:"overDays"}],staticClass:"form-control",attrs:{type:"number",min:"1",step:"1",id:"daysDiscount","aria-label":"giorni da superare per ottenere sconto, campo obbligatorio",required:""},domProps:{value:e.overDays},on:{input:function(t){t.target.composing||(e.overDays=t.target.value)}}})])])])]:e._e(),a("div",{staticClass:"row mb-3"},[e._m(6),a("div",{staticClass:"col-9"},[a("div",{staticClass:" form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.available,expression:"available"}],staticClass:"form-check-input",attrs:{type:"checkbox","aria-label":"Selezionare per rendere disponibile il prodotto"},domProps:{checked:e.available,checked:Array.isArray(e.available)?e._i(e.available,null)>-1:e.available},on:{click:e.changeAvailable,change:function(t){var a=e.available,i=t.target,o=!!i.checked;if(Array.isArray(a)){var s=null,r=e._i(a,s);i.checked?r<0&&(e.available=a.concat([s])):r>-1&&(e.available=a.slice(0,r).concat(a.slice(r+1)))}else e.available=o}}}),e.available?a("label",{staticClass:"form-check-label",attrs:{tabindex:"0",for:"available"}},[e._v("L'articolo sarà disponibile")]):a("label",{staticClass:"form-check-label",attrs:{tabindex:"0",for:"available"}},[e._v("L'articolo non sarà disponile")])])])]),a("div",{staticClass:"form-floating mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.description,expression:"description"}],staticClass:"form-control",attrs:{type:"text","aria-label":"Descrizione prodotto, campo obbligatorio",required:""},domProps:{value:e.description},on:{input:function(t){t.target.composing||(e.description=t.target.value)}}}),a("label",{attrs:{for:"description"}},[e._v(" Descrizione*")])]),a("div",{staticClass:"form-floating mb-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.note,expression:"note"}],staticClass:"form-control",attrs:{type:"text","aria-label":"Note non visibili ai clienti"},domProps:{value:e.note},on:{input:function(t){t.target.composing||(e.note=t.target.value)}}}),a("label",{attrs:{for:"note"}},[e._v(" Note (non visibili ai clienti)")])]),a("div",{staticClass:"row mb-5"},[a("div",{staticClass:"col-6"},[a("button",{staticClass:"btn btn-lg btn-success",attrs:{type:"submit","aria-label":"Bottone salva. Dopo la crezioe rimane su questa pagina e resetta i campi",disabled:e.enter||e.newTotal<0}},[e._v("Salva")])]),a("div",{staticClass:"col-6"},[a("button",{staticClass:"btn btn-lg btn-danger delete",attrs:{type:"reset","aria-label":"Bottone annulla, pulirà i campi",disabled:e.enter},on:{click:e.cancel}},[e._v("Annulla")])])])],2)])])},B=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-3"},[a("label",[a("b",[e._v("Sconto Prezzo fisso:")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-3"},[a("p",[e._v(" Tipo di sconto:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-3"},[a("p",[e._v(" Valore sconto:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-3"},[a("label",[a("b",[e._v("Sconto Prezzo giornaliero:")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-3"},[a("p",[e._v(" Tipo di sconto:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-3"},[a("p",[e._v(" Valore sconto:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-3"},[a("label",[a("b",[e._v("Disponibilità:")])])])}],L=a("2909"),Y=(a("ac1f"),a("5319"),a("d3b7"),a("6062"),a("3ca3"),a("ddb0"),a("1276"),a("a434"),a("a4d3"),a("e01a"),{name:"create-article",data:function(){return{enter:!1,title:"",brand:"",image:"",tags:"",quality:1,fixedPrice:"",dailyPrice:"",overDays:"",overOnSale:!1,overOnSaleType:!1,overOnSaleValue:"",onSale:!1,onSaleType:!1,onSaleValue:1,newTotal:"",available:!1,description:"",note:""}},methods:{changeSale:function(){this.onSale?(this.onSale=!1,this.onSaleType=!1,this.onSaleValue=1):this.onSale=!0,this.newPrice()},changeType:function(){this.onSaleType=!this.onSaleType,this.newPrice()},changeDailySale:function(){this.overOnSale?(this.overOnSale=!1,this.overOnSaleType=!1,this.overOnSaleValue=1):this.overOnSale=!0},changeAvailable:function(){this.available=!this.available},newPrice:function(){this.onSale&&(this.onSaleType?this.newTotal=this.fixedPrice-this.fixedPrice*this.onSaleValue/100:this.newTotal=this.fixedPrice-this.onSaleValue)},createArticle:function(){var e=this;this.enter=!0;var t={};if(t.title=this.title,t.brand=this.brand,t.image=this.image,""==this.tags)t.tags="";else{var a=this.tags.replace(/,/g," ");a=Object(L["a"])(new Set(a.split(" ")));for(var i=0;i<a.length;i++)""==a[i]&&a.splice(i,1);t.tags=a}t.discount={},t.discount.onSale=this.onSale,this.onSale?(t.discount.onSaleType=this.onSaleType,t.discount.onSaleValue=this.onSaleValue):(t.discount.onSaleType=!1,t.discount.onSaleValue=""),t.overDays={},this.overOnSale?(t.overDays.onSale=this.overOnSale,t.overDays.onSaleType=this.overOnSaleType,t.overDays.onSaleValue=this.overOnSaleValue,t.overDays.days=this.overDays):(t.overDays.onSale=!1,t.overDays.onSaleType=!1,t.overDays.onSaleValue="",t.overDays.days=""),t.price=this.dailyPrice,t.fixedPrice=this.fixedPrice,t.quality=this.quality,t.available=this.available,t.description=this.description,t.note=this.note,t.bookings=[],console.log(t),h.addProduct(t).then((function(){e.cancel(),e.enter=!1,alert("Creazione riuscita")}))},cancel:function(){this.title="",this.brand="",this.image="",this.tags="",this.quality=1,this.fixedPrice="",this.dailyPrice="",this.onSale&&this.changeSale(),this.overOnSale&&this.changeDailySale(),this.available=!1,this.description="",this.note="",this.newTotal=""}}}),G=Y,U=(a("d0aa"),Object(y["a"])(G,F,B,!1,null,null,null)),Z=U.exports,Q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-fluid d-flex justify-content-center",attrs:{id:"main"}},[a("div",{staticClass:"w-50"},[a("form",{attrs:{name:"myform",id:"formId"},on:{submit:function(t){return t.preventDefault(),e.createReservation.apply(null,arguments)}}},[a("h1",{staticClass:"mb-4",attrs:{tabindex:"0"}},[e._v(" Aggiungi prenotazione ")]),a("div",{staticClass:"form-floating mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",id:"email","aria-label":"Email cliente, campo obbligatorio",required:""},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),a("label",{attrs:{for:"email"}},[e._v(" Email cliente*")])]),a("div",{staticClass:"form-floating mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.articleId,expression:"articleId"}],staticClass:"form-control",attrs:{type:"text",tabindex:"0",id:"articleId","aria-label":"Id articolo:"+e.articleId,readonly:""},domProps:{value:e.articleId},on:{input:function(t){t.target.composing||(e.articleId=t.target.value)}}}),a("label",{attrs:{for:"articleId"}},[e._v(" ID articolo*")])]),a("div",{staticClass:"row mb-3"},[e._m(0),a("div",{staticClass:"col-9"},[a("date-picker",{attrs:{"input-attr":{required:"true"},id:"date","aria-label":"Selezionare periodo prenotazione, campo obbligatorio",range:"",lang:e.lang,"disabled-date":e.dateDisabled,format:"DD-MM-YYYY",required:""},on:{change:e.changeData},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}})],1)]),a("div",{staticClass:"form-floating mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.fixedPrice,expression:"fixedPrice"}],staticClass:"form-control",attrs:{type:"number",min:"1",step:"1","aria-label":"Prezzo fisso, campo obbligatorio",required:""},domProps:{value:e.fixedPrice},on:{keyup:e.newPrice,input:function(t){t.target.composing||(e.fixedPrice=t.target.value)}}}),a("label",{attrs:{for:"price"}},[e._v(" Prezzo Fisso*")])]),a("div",{staticClass:"row mb-3",attrs:{id:"saleRow"}},[e._m(1),a("div",{staticClass:"col-9 "},[a("div",{staticClass:" form-check"},[a("input",{staticClass:"form-check-input",attrs:{type:"checkbox","aria-label":"Sconto prezzo fisso, seleziona per abilitare"},domProps:{checked:e.onSale},on:{click:e.changeSale}}),e.onSale?a("label",{staticClass:"form-check-label",attrs:{tabindex:"0",for:"sale"}},[e._v("L'articolo verrà scontato")]):a("label",{staticClass:"form-check-label",attrs:{tabindex:"0",for:"sale"}},[e._v("Il prodotto non è scontato")])])])]),e.onSale?[a("div",{staticClass:"mt-2",attrs:{id:"saleInfo"}},[a("div",{staticClass:"row"},[e._m(2),a("div",{staticClass:"col-3"},[a("div",{staticClass:"form-check"},[a("input",{staticClass:"form-check-input",attrs:{"aria-label":"sconto percentuale, seleziona uno dei due",type:"radio",id:"percentage",required:""},domProps:{value:!0,checked:e.onSaleType},on:{click:e.changeOnSaleType}}),a("label",{staticClass:"form-check-label",attrs:{for:"percentage"}},[e._v("Percentuale")])])]),a("div",{staticClass:"col-3"},[a("div",{staticClass:"form-check"},[a("input",{staticClass:"form-check-input",attrs:{"aria-label":"sconto fisso, seleziona uno dei due",type:"radio",id:"flat",required:""},domProps:{value:!1,checked:!e.onSaleType},on:{click:e.changeOnSaleType}}),a("label",{staticClass:"form-check-label",attrs:{for:"flat"}},[e._v("Fisso")])])])]),a("div",{staticClass:"row mb-3"},[e._m(3),a("div",{staticClass:"col-9"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.onSaleValue,expression:"onSaleValue"}],staticClass:"form-control",attrs:{type:"number","aria-label":"valore sconto, campo obbligatorio",min:"1",step:"1",id:"saleValue",required:""},domProps:{value:e.onSaleValue},on:{keyup:e.newPrice,input:function(t){t.target.composing||(e.onSaleValue=t.target.value)}}})])])])]:e._e(),a("div",{staticClass:"form-floating mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.dailyPrice,expression:"dailyPrice"}],staticClass:"form-control",attrs:{type:"number",min:"1",step:"1","aria-label":"Prezzo giornaliero, campo obbligatorio",required:""},domProps:{value:e.dailyPrice},on:{keyup:e.newPrice,input:function(t){t.target.composing||(e.dailyPrice=t.target.value)}}}),a("label",{attrs:{for:"price"}},[e._v(" Prezzo Giornaliero*")])]),a("div",{staticClass:"row mb-3",attrs:{id:"saleRow"}},[e._m(4),a("div",{staticClass:"col-9 "},[a("div",{staticClass:" form-check"},[a("input",{staticClass:"form-check-input",attrs:{type:"checkbox","aria-label":"sconto prezzo giornaliero, seleziona per abilitare"},domProps:{checked:e.overOnSale},on:{click:e.changeDailySale}}),e.overOnSale?a("label",{staticClass:"form-check-label",attrs:{tabindex:"0",for:"sale"}},[e._v("L'articolo verrà scontato")]):a("label",{staticClass:"form-check-label",attrs:{tabindex:"0",for:"sale"}},[e._v("Il prodotto non è scontato")])])])]),e.overOnSale?[a("div",{staticClass:"mt-2",attrs:{id:"saleInfoOver"}},[a("div",{staticClass:"row"},[e._m(5),a("div",{staticClass:"col-3"},[a("div",{staticClass:"form-check"},[a("input",{staticClass:"form-check-input",attrs:{"aria-label":"sconto giornaliero percentuale, seleziona uno dei due",type:"radio",id:"percentageOver",required:""},domProps:{value:!0,checked:e.overOnSaleType},on:{click:e.changeType}}),a("label",{staticClass:"form-check-label",attrs:{for:"percentage"}},[e._v("Percentuale")])])]),a("div",{staticClass:"col-3"},[a("div",{staticClass:"form-check"},[a("input",{staticClass:"form-check-input",attrs:{"aria-label":"sconto giornaliero fisso, seleziona uno dei due",type:"radio",id:"flatOver",required:""},domProps:{value:!1,checked:!e.overOnSaleType},on:{click:e.changeType}}),a("label",{staticClass:"form-check-label",attrs:{for:"flat"}},[e._v("Fisso")])])])]),a("div",{staticClass:"row"},[e._m(6),a("div",{staticClass:"col-9"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.overOnSaleValue,expression:"overOnSaleValue"}],staticClass:"form-control",attrs:{type:"number","aria-label":"valore sconto giornaliero, campo obbligatorio ",min:"1",step:"1",id:"saleValueOVer",required:""},domProps:{value:e.overOnSaleValue},on:{keyup:e.newPrice,input:function(t){t.target.composing||(e.overOnSaleValue=t.target.value)}}})])]),a("div",{staticClass:"row mt-2 mb-2"},[a("div",{staticClass:"col-3"},[e._v("Giorni da superare per sconto:")]),a("div",{staticClass:"col-9"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.overDaysCount,expression:"overDaysCount"}],staticClass:"form-control",attrs:{type:"number","aria-label":"giorni da superare per ottenere sconto, campo obbligatorio",min:"1",step:"1",id:"daysDiscount",required:""},domProps:{value:e.overDaysCount},on:{keyup:e.newPrice,input:function(t){t.target.composing||(e.overDaysCount=t.target.value)}}})])])])]:e._e(),a("div",{staticClass:"form-floating mb-3"},[a("input",{staticClass:"form-control",attrs:{type:"number","aria-label":"Prezzo totale prenotazione"+e.newTotal+"€. Se negativo o uguale a zero non si potrà creare la prenotazione",readonly:""},domProps:{value:e.newTotal}}),a("label",{attrs:{for:"price"}},[e._v(" Prezzo Totale")])]),a("div",{staticClass:"form-floating mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.notes,expression:"notes"}],staticClass:"form-control",attrs:{type:"text",id:"notes","aria-label":"Descrizione prenotazione"},domProps:{value:e.notes},on:{input:function(t){t.target.composing||(e.notes=t.target.value)}}}),a("label",{attrs:{for:"notes"}},[e._v(" Descrizione")])]),a("div",{staticClass:"form-floating mb-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.privateNotes,expression:"privateNotes"}],staticClass:"form-control",attrs:{type:"text",id:"privateNotes","aria-label":"Note non visibili ai clienti"},domProps:{value:e.privateNotes},on:{input:function(t){t.target.composing||(e.privateNotes=t.target.value)}}}),a("label",{attrs:{for:"privateNotes"}},[e._v(" Note (non visibili ai clienti)")])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("button",{staticClass:"btn btn-lg btn-success",attrs:{type:"submit","aria-label":"bottone crea prenotazione, dopo la creazione rimane su questa pagina pulendo i campi tranne i prezzi",id:"save",disabled:e.enter||e.negativePrice}},[e._v("Salva")])]),a("div",{staticClass:"col-6"},[a("button",{staticClass:"btn btn-lg btn-danger delete",attrs:{type:"button","aria-label":"bottone annulla, pulisce i campi tranne i prezzi",id:"clear",disabled:e.enter},on:{click:e.cancel}},[e._v("Annulla")])])])],2)])])},J=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-3"},[a("label",{staticClass:"mr-3",attrs:{for:"date"}},[e._v("Periodo Prenotazione* ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-3"},[a("label",[a("b",[e._v("Sconto Prezzo fisso:")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-3"},[a("p",[e._v(" Tipo di sconto:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-3"},[a("p",[e._v(" Valore sconto:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-3"},[a("label",[a("b",[e._v("Sconto Prezzo giornaliero:")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-3"},[a("p",[e._v(" Tipo di sconto:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-3"},[a("p",[e._v(" Valore sconto:")])])}],W=a("ec45"),H=(a("411c"),{name:"create-article",components:{DatePicker:W["a"]},data:function(){return{enter:!1,article:{},email:"",articleId:"",dailyPrice:"",fixedPrice:"",newTotal:"",onSale:!1,onSaleType:!1,onSaleValue:0,overDaysCount:"",overOnSale:!1,overOnSaleType:!1,overOnSaleValue:0,notes:"",privateNotes:"",negativePrice:!1,time:null,lang:{formatLocale:{firstDayOfWeek:1,months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Augosto","Settembre","Ottobre","Novembre","Dicembre"],monthsShort:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],weekdaysMin:["Do","Lu","Ma","Me","Gi","Ve","Sa"]},monthBeforeYear:!1}}},created:function(){var e=this;this.articleId=this.$route.params.id,h.getProduct(this.articleId).then((function(t){e.article=t.data.data.obj,console.log(e.article),e.dailyPrice=e.article.price,e.fixedPrice=e.article.fixedPrice,e.onSale=e.article.discount.onSale,e.onSaleType=e.article.discount.onSaleType,e.onSaleValue=e.article.discount.onSaleValue,e.overDaysCount=e.article.overDays.days,e.overOnSale=e.article.overDays.onSale,e.overOnSaleType=e.article.overDays.onSaleType,e.overOnSaleValue=e.article.overDays.onSaleValue}),(function(t){alert("La pagina non esiste"),e.$router.push({name:"home"})}))},methods:{changeSale:function(){this.onSale?(this.onSale=!1,this.onSaleType=!1,this.onSaleValue=1):this.onSale=!0,this.newPrice()},changeOnSaleType:function(){this.onSaleType=!this.onSaleType,this.newPrice()},changeDailySale:function(){this.overOnSale?(this.overOnSale=!1,this.overOnSaleType=!1,this.overOnSaleValue=1):this.overOnSale=!0,this.newPrice()},changeType:function(){this.overOnSaleType=!this.overOnSaleType,this.newPrice()},createReservation:function(){var e=this;this.enter=!0;var t={};t.clientEmail=this.email,t.productId=this.articleId,t.isTaken=!1,t.isReturned=!1,t.description=this.notes,t.note=this.privateNotes;var a=this.time[0].getDate(),i=this.time[0].getMonth()+1,o=this.time[0].getFullYear(),s=this.time[1].getDate(),r=this.time[1].getMonth()+1,l=this.time[1].getFullYear(),n=new Date;t.bookingDate={},t.bookingDate.day=n.getDate(),t.bookingDate.month=n.getMonth()+1,t.bookingDate.year=n.getFullYear(),t.startDate={},t.startDate.day=a,t.startDate.month=i,t.startDate.year=o,t.endDate={},t.endDate.day=s,t.endDate.month=r,t.endDate.year=l,t.productTitle=this.article.title,t.productBrand=this.article.brand,t.productImage=this.article.image,t.variablePrice=this.dailyPrice,t.fixedPrice=this.fixedPrice,t.totalPrice=this.newTotal,t.fixedDiscount={},this.onSale?(t.fixedDiscount.onSale=!0,t.fixedDiscount.onSaleType=this.onSaleType,t.fixedDiscount.onSaleValue=this.onSaleValue):(t.fixedDiscount.onSale=!1,t.fixedDiscount.onSaleType=!1,t.fixedDiscount.onSaleValue=""),t.variableDiscount={},this.overOnSale?(t.variableDiscount.onSale=!0,t.variableDiscount.onSaleType=this.overOnSaleType,t.variableDiscount.days=this.overDaysCount,t.variableDiscount.onSaleValue=this.overOnSaleValue):(t.variableDiscount.days="",t.variableDiscount.onSale=!1,t.variableDiscount.onSaleType=!1,t.variableDiscount.onSaleValue=""),h.getUser(this.email,1).then((function(n){console.log("GETUSER"),console.log(n),t.clientName=n.data.data.userName,t.clientSurname=n.data.data.userSurname,console.log(t),h.addReservation(t).then((function(t){console.log(t);var n={};n.id=e.articleId,n.clientId=e.email,n.reservationId=t.data.data._id,n.startDate={},n.startDate.day=a,n.startDate.month=i,n.startDate.year=o,n.endDate={},n.endDate.day=s,n.endDate.month=r,n.endDate.year=l,n.total=e.newTotal;var c={};c.bookings=e.article.bookings,c.bookings.push(n),h.saveDataProduct(e.articleId,c).then((function(){e.cancel(),e.enter=!1,alert("Creazione riuscita")}))}))}),(function(e){alert("La mail non esiste")}))},cancel:function(){this.time=null,this.email="",this.notes="",this.privateNotes="",this.dailyPrice=this.article.price,this.fixedPrice=this.article.fixedPrice,this.onSale=this.article.discount.onSale,this.onSaleType=this.article.discount.onSaleType,this.onSaleValue=this.article.discount.onSaleValue,this.overDaysCount=this.article.overDays.days,this.overOnSale=this.article.overDays.onSale,this.overOnSaleType=this.article.overDays.onSaleType,this.overOnSaleValue=this.article.overDays.onSaleValue,this.newPrice()},newPrice:function(){if(null!=this.time[0]){var e,t,a=this.time[0].getDate(),i=this.time[0].getMonth()+1,o=this.time[0].getFullYear(),s=this.time[1].getDate(),r=this.time[1].getMonth()+1,l=this.time[1].getFullYear(),n=1e4*o+100*i+a,c=1e4*l+100*r+s,d=c-n+1;e=this.onSale?this.onSaleType?this.fixedPrice-this.fixedPrice*this.onSaleValue/100:this.fixedPrice-this.onSaleValue:this.fixedPrice,t=this.overOnSale&&d>this.overDaysCount?this.overOnSaleType?this.dailyPrice*d-this.dailyPrice*d*this.overOnSaleValue/100:this.dailyPrice*d-this.overOnSaleValue:this.dailyPrice*d,console.log(n+"-"+c+"-"+e+"-"+t),this.newTotal=parseFloat(e)+parseFloat(t),this.newTotal<=0?this.negativePrice=!0:this.negativePrice=!1}},changeData:function(){if(null!=this.time[0]){var e=new Date(this.time[0].getFullYear(),this.time[0].getMonth(),this.time[0].getDate()),t=new Date(this.time[1].getFullYear(),this.time[1].getMonth(),this.time[1].getDate());for(var a in this.article.bookings)if(this.article.bookings[a].reservationId!=this.reservationId){var i=new Date(this.article.bookings[a].endDate.year,this.article.bookings[a].endDate.month-1,this.article.bookings[a].endDate.day),o=new Date(this.article.bookings[a].startDate.year,this.article.bookings[a].startDate.month-1,this.article.bookings[a].startDate.day);e<=o&&i<=t&&(this.time=null)}this.newPrice()}},dateDisabled:function(e){var t=new Date;if(e<t)return!0;for(var a in this.article.bookings){var i=new Date(this.article.bookings[a].startDate.year,this.article.bookings[a].startDate.month-1,this.article.bookings[a].startDate.day),o=new Date(this.article.bookings[a].endDate.year,this.article.bookings[a].endDate.month-1,this.article.bookings[a].endDate.day);if(i<=e&&e<=o)return!0}return!1}}}),K=H,X=Object(y["a"])(K,Q,J,!1,null,null,null),ee=X.exports,te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-fluid d-flex justify-content-center",attrs:{id:"main"}},[a("div",{staticClass:"w-50"},[a("div",{staticClass:"row mb-3 mt-3"},[a("div",{staticClass:"col-6 d-flex align-items-center",staticStyle:{height:"15em"}},[a("img",{staticClass:"myImg",attrs:{id:"img",tabindex:"0",alt:"immagine"+e.title+e.brand,src:e.image}})]),a("div",{staticClass:"col-6"},[a("div",{attrs:{id:"productidentifier"}},[a("span",{attrs:{tabindex:"0","aria-label":"Identificativo:"+e.identifier}},[e._v(" ID: "+e._s(e.identifier)+" ")])]),a("div",[a("h4",{attrs:{tabindex:"0","aria-label":"Articolo:"+e.title+e.brand}},[e._v(e._s(e.title+" "+e.brand)+" ")])]),a("div",{attrs:{tabindex:"0","aria-label":e.quality+"stelle su tre"}},[e._l(parseInt(e.quality),(function(e){return a("span",{key:e,staticClass:"fa fa-star checked big-size"})})),e._l(3-parseInt(e.quality),(function(e){return a("span",{key:e,staticClass:"fa fa-star big-size"})}))],2),a("div",{staticClass:"mt-1 mb-1"},[a("span",{attrs:{tabindex:"0","aria-label":"Prezzo fisso:"+e.fixedPrice+"€"}},[e._v(e._s("Prezzo Fisso: "+e.fixedPrice+"€")+" "),a("span",{attrs:{id:"fixedPrice"}})])]),a("div",{staticClass:"mt-1 mb-1"},[e.discount.onSale?a("span",{attrs:{tabindex:"0","aria-label":"Prezzo fisso scontato:"+e.getDiscountedPrice+"€"}},[a("span",{attrs:{id:"onSalePrice"}},[e._v(e._s("Prezzo fisso scontato: "+e.getDiscountedPrice)+"€")])]):e._e()]),a("div",{staticClass:"mt-1 mb-1"},[a("span",{attrs:{tabindex:"0","aria-label":"Prezzo giornaliero:"+e.dailyPrice+"€"}},[e._v(e._s("Prezzo giornaliero: "+e.dailyPrice+"€/giorno")+" "),a("span",{attrs:{id:"PriceforDay"}})])]),a("div",{staticClass:"mt-1 mb-1"},[e.overDays.onSale?a("span",{attrs:{tabindex:"0","aria-label":"Noleggia oltre "+e.overDays.days+" giorni per ottenere sconto giornaliero:"+e.dailyPrice+"€"}},[e._v(e._s("Noleggia oltre "+e.overDays.days+" giorni per ricevere sconto giornaliero")+" "),a("span",{attrs:{id:"fixedPrice"}})]):e._e()])])]),a("div",{staticClass:"row d-flex justify-content-between"},[a("div",{staticClass:"col align-items-center"},[a("b-button",{staticClass:"btn btn-lg btn-warning m-1",attrs:{id:"rentProduct","aria-label":"Bottone affitta. Porta alla pagina per la creazione di una prenotazione",disabled:e.enter||!e.available},on:{click:e.rent}},[e._v("Affitta")]),a("b-button",{staticClass:"btn btn-lg m-1",attrs:{type:"button","aria-label":"Bottone Modifica. Apre una finestra dove modificare i campi dell'articolo",variant:"primary","data-bs-toggle":"modal","data-bs-target":"#myModal",disabled:e.enter},on:{click:e.getModalData}},[e._v("Modifica")]),a("b-button",{staticClass:"btn btn-lg btn-danger m-1",attrs:{type:"button","aria-label":"Bottone elimina. Cancella l'articolo e porta sulla pagina del catalogo",disabled:e.boolDelete||e.enter},on:{click:e.deleteProduct}},[e._v("Elimina")]),a("b-button",{staticClass:"btn btn-lg btn-warning m-1",attrs:{"aria-label":"Bottone analytics. Porta alla pagina per vedere le statistiche di questo prodotto",disabled:0===e.bookings.length||e.enter},on:{click:e.stats}},[e._v(" Analytics ")])],1)]),a("div",{staticClass:"form-check form-switch "},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.available,expression:"available"}],staticClass:"form-check-input custom-switch ",attrs:{type:"checkbox",id:"flexSwitchCheckDefault",disabled:e.enter},domProps:{checked:e.available,checked:Array.isArray(e.available)?e._i(e.available,null)>-1:e.available},on:{click:e.changeInStock,change:function(t){var a=e.available,i=t.target,o=!!i.checked;if(Array.isArray(a)){var s=null,r=e._i(a,s);i.checked?r<0&&(e.available=a.concat([s])):r>-1&&(e.available=a.slice(0,r).concat(a.slice(r+1)))}else e.available=o}}}),e.available?a("label",{staticClass:"form-check-label",attrs:{"ria-label":"Bottone per cambiare la disponibilità articolo",for:"flexSwitchCheckDefault"}},[e._v("Modifica per disattivare articolo")]):a("label",{staticClass:"form-check-label",attrs:{for:"flexSwitchCheckDefault"}},[e._v("Modifica per attivare articolo")])]),a("div",{staticClass:"modal",attrs:{id:"myModal"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[e._m(0),a("div",{staticClass:"modal-body"},[a("b-row",[a("b-col",{attrs:{cols:"6"}},[a("label",{staticClass:"form-label",attrs:{for:"productName"}},[e._v("Nome*")])]),a("b-col",{attrs:{cols:"6"}},[a("label",{staticClass:"form-label",attrs:{for:"productModel"}},[e._v("Marca")])])],1),a("b-row",{staticClass:"mb-3"},[a("b-col",{attrs:{cols:"6"}},[a("b-form-input",{staticClass:"form-control",attrs:{type:"text","aria-label":"Titolo, Campo obbligatorio",id:"productname"},model:{value:e.titleModal,callback:function(t){e.titleModal=t},expression:"titleModal"}})],1),a("b-col",{attrs:{cols:"6"}},[a("b-form-input",{staticClass:"form-control",attrs:{type:"text","aria-label":"Brand, Campo obbligatorio",id:"productModel"},model:{value:e.brandModal,callback:function(t){e.brandModal=t},expression:"brandModal"}})],1)],1),a("b-row",[a("b-col",[a("label",{staticClass:"form-label",attrs:{for:"productTags"}},[e._v("Etichette (separare con uno spazio)")])])],1),a("b-row",{staticClass:"mb-3"},[a("b-col",[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.tagsModal,expression:"tagsModal"}],staticClass:"form-control w-80",attrs:{id:"productTags",rows:"3"},domProps:{value:e.tagsModal},on:{input:function(t){t.target.composing||(e.tagsModal=t.target.value)}}})])],1),a("b-row",{staticClass:"mb-3 d-flex align-items-center justify-content-between"},[a("b-col",{attrs:{cols:"4"}},[a("label",{staticClass:"form-label",attrs:{for:"imageLink"}},[e._v("Immagine* (link)")])]),a("b-col",{attrs:{cols:"8"}},[a("b-form-input",{staticClass:"form-control",attrs:{type:"text","aria-label":"L` mmagine deve essere in forma di URL. Campo obbligatorio"+e.imageModal,id:"imageLink"},model:{value:e.imageModal,callback:function(t){e.imageModal=t},expression:"imageModal"}})],1)],1),a("b-row",[a("b-col",{staticClass:"mt-2 mb-3",attrs:{cols:"6"}},[a("label",{staticClass:"form-label",attrs:{for:"productQuality"}},[e._v("Qualità")])]),a("b-col",{staticClass:"mt-2 mb-3",attrs:{cols:"6"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.qualityModal,expression:"qualityModal"}],staticClass:"form-select",attrs:{"aria-label":"qualità:"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.qualityModal=t.target.multiple?a:a[0]}}},[a("option",{domProps:{value:1}},[e._v("1 - Condizioni accettabili")]),a("option",{attrs:{selected:""},domProps:{value:2}},[e._v("2 - Buone condizioni")]),a("option",{domProps:{value:3}},[e._v("3 - Come nuovo")])])])],1),a("hr"),a("b-row",[a("b-col",{staticClass:"mt-3 mb-3",attrs:{cols:"6"}},[a("label",{attrs:{for:"productPrice"}},[e._v("Prezzo Fisso*")])]),a("b-col",{staticClass:"mt-2 mb-2",attrs:{cols:"6"}},[a("div",{staticClass:"input-group"},[a("b-form-input",{staticClass:"form-control text-end",attrs:{type:"number",id:"productPrice","aria-label":"Prezzo fisso: campo obbligatorio"},model:{value:e.fixedModal,callback:function(t){e.fixedModal=t},expression:"fixedModal"}}),a("span",{staticClass:"input-group-text justify-content-center"},[e._v("€")])],1)])],1),a("b-row",{staticClass:"mb-2 d-flex align-items-center justify-content-between"},[a("b-col",{attrs:{cols:"6"}},[a("div",{staticClass:"form-check"},[a("input",{staticClass:"form-check-input",attrs:{type:"checkbox",id:"onSale"},domProps:{checked:e.onSaleModal},on:{click:e.changeOnSale}}),a("label",{staticClass:"form-check-label",attrs:{for:"onSale"}},[e._v("Sconto fisso")])])]),a("b-col",{attrs:{cols:"3"}},[a("div",{staticClass:"form-check"},[a("input",{staticClass:"form-check-input",attrs:{type:"radio",name:"discount","aria-label":"sconto percentuale. Seleziona uno dei due",id:"discountPercentage",disabled:!e.onSaleModal},domProps:{value:!0,checked:e.onSaleModal&&e.onSaleTypeModal},on:{click:e.changeDiscountType}}),a("label",{staticClass:"form-check-label",attrs:{for:"discountPercentage"}},[e._v("Percentuale")])])]),a("b-col",{attrs:{cols:"3"}},[a("div",{staticClass:"form-check"},[a("input",{staticClass:"form-check-input",attrs:{id:"discountAmount",type:"radio","aria-label":"sconto fisso. Seleziona uno dei due",name:"discount",disabled:!e.onSaleModal},domProps:{value:!1,checked:e.onSaleModal&&0==e.onSaleTypeModal},on:{click:e.changeDiscountType}}),a("label",{staticClass:"form-check-label",attrs:{for:"discountAmount"}},[e._v("Fisso")])])])],1),a("b-row",{staticClass:"mb-2 d-flex justify-content-end"},[a("b-col",{staticClass:"d-flex align-items-center",attrs:{cols:"6"}},[e._v(" Sconto applicato ")]),a("b-col",{attrs:{cols:"6"}},[a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-text justify-content-center"},[e._v("-")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.onSaleValueModal,expression:"onSaleValueModal"}],staticClass:"form-control text-end",attrs:{type:"text",min:"1",step:"1","aria-label":"valore sconto prezzo fisso. Campo obbligatorio",disabled:!e.onSaleModal},domProps:{value:e.onSaleValueModal},on:{input:function(t){t.target.composing||(e.onSaleValueModal=t.target.value)}}}),e.onSaleTypeModal?a("span",{staticClass:"input-group-text justify-content-center",attrs:{id:"pd"}},[e._v("%")]):a("span",{staticClass:"input-group-text justify-content-center",attrs:{id:"pd"}},[e._v("€")])])])],1),a("b-row",{staticClass:"mb-3"},[a("b-col",{staticClass:"d-flex align-items-center",attrs:{cols:"6"}},[e._v(" Prezzo Fisso scontato ")]),a("b-col",{attrs:{cols:"6"}},[a("div",{staticClass:"input-group"},[a("input",{staticClass:"form-control text-end",attrs:{type:"text","aria-label":"Prezzo fisso scontato. Sola lettura. Se negativo non sarà possibile modificare il prodotto.",readonly:"",placeholder:e.getDiscountedModal}}),a("span",{staticClass:"input-group-text justify-content-center"},[e._v("€")])])])],1),a("hr"),a("b-row",[a("b-col",{staticClass:"mt-3 mb-3",attrs:{cols:"6"}},[a("label",{attrs:{for:"dailyPrice"}},[e._v("Prezzo Giornaliero*")])]),a("b-col",{staticClass:"mt-2 mb-2",attrs:{cols:"6"}},[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.dailyModal,expression:"dailyModal"}],staticClass:"form-control text-end",attrs:{type:"number",id:"dailyPrice","aria-label":"Prezzo giornaliero. Campo obbligatorio"},domProps:{value:e.dailyModal},on:{input:function(t){t.target.composing||(e.dailyModal=t.target.value)}}}),a("span",{staticClass:"input-group-text justify-content-center"},[e._v("€")])])])],1),a("b-row",{staticClass:"mb-2 d-flex align-items-center justify-content-between"},[a("b-col",{attrs:{cols:"6"}},[a("div",{staticClass:"form-check"},[a("input",{staticClass:"form-check-input",attrs:{type:"checkbox",id:"overSale"},domProps:{checked:e.overSaleModal},on:{click:e.changeOnSaleOverDays}}),a("label",{staticClass:"form-check-label",attrs:{for:"overSale"}},[e._v("Sconto")])])]),a("b-col",{attrs:{cols:"3"}},[a("div",{staticClass:"form-check"},[a("input",{staticClass:"form-check-input",attrs:{type:"radio",name:"discountOver","aria-label":"sconto percentuale. Seleziona uno dei due",id:"overPercentage",disabled:!e.overSaleModal},domProps:{value:!0,checked:e.overSaleModal&&1==e.overSaleTypeModal},on:{click:e.changeDiscountTypeOverDays}}),a("label",{staticClass:"form-check-label",attrs:{for:"discountPercentage"}},[e._v("Percentuale")])])]),a("b-col",{attrs:{cols:"3"}},[a("div",{staticClass:"form-check"},[a("input",{staticClass:"form-check-input",attrs:{id:"overFlat","aria-label":"sconto fisso. Seleziona uno dei due",type:"radio",name:"discountOver",disabled:!e.overSaleModal},domProps:{value:!1,checked:e.overSaleModal&&0==e.overSaleTypeModal},on:{click:e.changeDiscountTypeOverDays}}),a("label",{staticClass:"form-check-label",attrs:{for:"discountAmount"}},[e._v("Fisso")])])])],1),a("b-row",{staticClass:"mb-2 d-flex justify-content-end"},[a("b-col",{staticClass:"d-flex align-items-center",attrs:{cols:"6"}},[e._v(" Sconto applicato ")]),a("b-col",{attrs:{cols:"6"}},[a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-text justify-content-center"},[e._v("-")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.overSaleValueModal,expression:"overSaleValueModal"}],staticClass:"form-control text-end",attrs:{type:"text","aria-label":"valore sconto giornaliero.",min:"1",step:"1",disabled:!e.overSaleModal},domProps:{value:e.overSaleValueModal},on:{input:function(t){t.target.composing||(e.overSaleValueModal=t.target.value)}}}),e.overSaleTypeModal?a("span",{staticClass:"input-group-text justify-content-center",attrs:{id:"pd"}},[e._v("%")]):a("span",{staticClass:"input-group-text justify-content-center",attrs:{id:"pd"}},[e._v("€")])])])],1),a("b-row",{staticClass:"mb-3"},[a("b-col",{staticClass:"d-flex align-items-center",attrs:{cols:"6"}},[e._v(" Giorni per sconto ")]),a("b-col",{attrs:{cols:"6"}},[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.overDaysModal,expression:"overDaysModal"}],staticClass:"form-control text-end",attrs:{type:"number","aria-label":"giorni da superare per ottenere sconto giornaliero.",min:"1",step:"1",disabled:!e.overSaleModal},domProps:{value:e.overDaysModal},on:{input:function(t){t.target.composing||(e.overDaysModal=t.target.value)}}})])])],1),a("hr"),a("b-row",[a("b-col",[a("label",{staticClass:"form-label",attrs:{for:"productDescription"}},[e._v("Descrizione*")])])],1),a("b-row",{staticClass:"mb-3"},[a("b-col",[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.descriptionModal,expression:"descriptionModal"}],staticClass:"form-control w-80",attrs:{"aria-label":"Descrizione, campo obbligatorio",id:"productDescription",rows:"3"},domProps:{value:e.descriptionModal},on:{input:function(t){t.target.composing||(e.descriptionModal=t.target.value)}}})])],1),a("b-row",[a("b-col",[a("label",{staticClass:"form-label",attrs:{for:"productNote"}},[e._v("Note (non sono visibli al cliente)")])])],1),a("b-row",{staticClass:"mb-3"},[a("b-col",[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.noteModal,expression:"noteModal"}],staticClass:"form-control w-80",attrs:{id:"productNote",rows:"3"},domProps:{value:e.noteModal},on:{input:function(t){t.target.composing||(e.noteModal=t.target.value)}}})])],1),a("div",{staticClass:"modal-footer d-flex justify-content-between"},[a("b-button",{staticClass:"float-left",attrs:{type:"submit","aria-label":"Bottone salva. Salva le modifiche e chiude la finestra di modifica",variant:"primary","data-bs-dismiss":"modal"},on:{click:e.saveData}},[e._v("Salva")]),a("b-button",{staticClass:"btn-danger float-right",attrs:{type:"button","aria-label":"bottone annulla. Chiude la finestra di modifica senza salvare","data-bs-dismiss":"modal"}},[e._v("Chiudi")])],1)],1)])])]),a("div",{staticClass:"row"},[a("h3",{attrs:{tabindex:"0","aria-label":"Categorie articolo"}},[e._v("Categorie")]),a("div",{staticClass:"mb-2"},e._l(e.tags,(function(t){return a("span",{key:t,staticClass:"badge rounded-pill bg-primary",attrs:{tabindex:"0","aria-label":t}},[e._v(e._s(t))])})),0)]),a("b-row",[a("h3",[e._v("Descrizione")])]),a("b-row",{staticClass:"mb-3 p-3 border border-secondary border-3 bg-white",attrs:{tabindex:"0","aria-label":"descrizione"+e.description}},[e._v(" "+e._s(e.description)+" ")]),a("b-row",[a("h3",[e._v("Note")])]),a("b-row",{staticClass:"mb-3 p-3 border border-secondary border-3 bg-white",attrs:{tabindex:"0","aria-label":"note non visibili ai clienti"+e.note}},[e._v(" "+e._s(e.note)+" ")]),0!==e.bookings.length?[a("h3",{attrs:{tabindex:"0"}},[e._v("Tabella prenotazioni")]),a("div",{staticClass:"p-3"},[a("b-row",[a("b-table",{attrs:{hover:"",items:e.bookings,fields:e.fields},scopedSlots:e._u([{key:"cell(email)",fn:function(t){var i=t.item;return[a("router-link",{attrs:{"aria-label":"email:"+i.clientId,to:{name:"client",params:{email:i.clientId}}}},[e._v(e._s(i.clientId))])]}},{key:"cell(totale)",fn:function(t){var i=t.item;return[a("span",{attrs:{tabindex:"0","aria-label":"totale prenotazione: "+i.total+"€"}},[e._v(e._s(i.total+"€"))])]}},{key:"cell(prenotazione)",fn:function(t){var i=t.item;return[a("router-link",{attrs:{"aria-label":"identificativo: prenotazione"+i.reservationId,to:{name:"reservation",params:{id:i.reservationId}}}},[e._v(e._s(i.reservationId))])]}},{key:"cell(inizio)",fn:function(t){var i=t.item;return[a("span",{attrs:{tabindex:"0","aria-label":"inizio prenotazione"+i.startDate.day+"-"+i.startDate.month+"-"+i.startDate.year}},[e._v(e._s(i.startDate.day+"-"+i.startDate.month+"-"+i.startDate.year))])]}},{key:"cell(fine)",fn:function(t){var i=t.item;return[a("span",{attrs:{tabindex:"0","aria-label":"fine prenotazione"+i.endDate.day+"-"+i.endDate.month+"-"+i.endDate.year}},[e._v(e._s(i.endDate.day+"-"+i.endDate.month+"-"+i.endDate.year))])]}}],null,!1,3710673254)})],1)],1)]:e._e()],2)])},ae=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title"},[e._v("Modifica prodotto")]),a("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal"}})])}],ie=(a("2b3d"),a("9861"),a("a15b"),a("b680"),{data:function(){return{enter:!1,identifier:"",title:"",brand:"",image:"",tags:[],quality:0,fixedPrice:0,dailyPrice:0,overDays:{days:"",onSale:!1,onSaleType:!1,onSaleValue:!1},discount:{onSale:!1,onSaleType:!1,onSaleValue:0},description:"",note:"",titleModal:"",brandModal:"",imageModal:"",tagsModal:[],qualityModal:0,dailyModal:0,fixedModal:0,onSaleModal:!1,onSaleTypeModal:!1,onSaleValueModal:0,overDaysModal:"",overSaleModal:!1,overSaleTypeModal:!1,overSaleValueModal:0,descriptionModal:"",noteModal:"",available:!1,boolDelete:!1,bookings:[],fields:[{key:"email",sortable:!1},{key:"prenotazione",sortable:!1},{key:"totale"},{key:"inizio"},{key:"fine"}]}},created:function(){var e=this;h.getProduct(this.$route.params.id).then((function(t){console.log(t),e.article=t.data.data.obj,e.identifier=e.$route.params.id,e.title=e.article.title,e.brand=e.article.brand,e.image=e.article.image,e.tags=e.article.tags,e.quality=e.article.quality,e.dailyPrice=e.article.price,e.fixedPrice=e.article.fixedPrice,e.discount.onSale=e.article.discount.onSale,e.discount.onSaleType=e.article.discount.onSaleType,e.discount.onSaleValue=e.article.discount.onSaleValue,e.overDays.days=e.article.overDays.days,e.overDays.onSale=e.article.overDays.onSale,e.overDays.onSaleType=e.article.overDays.onSaleType,e.overDays.onSaleValue=e.article.overDays.onSaleValue,e.available=e.article.available,e.description=e.article.description,e.bookings=e.article.bookings,console.log(e.bookings),e.note=e.article.note;var a=new Date;for(var i in e.bookings){var o=new Date(e.bookings[i].endDate.year,e.bookings[i].endDate.month-1,e.bookings[i].endDate.day);o>=a&&(e.boolDelete=!0)}}),(function(t){alert("La pagina non esiste"),e.$router.push({name:"home"})}))},methods:{rent:function(){this.$router.push({name:"createReservation",params:{id:this.identifier}})},stats:function(){this.$router.push({name:"chartArticle",params:{id:this.identifier}})},getModalData:function(){this.titleModal=this.title,this.brandModal=this.brand,this.imageModal=this.image,this.tagsModal=this.tags,this.qualityModal=this.quality,this.dailyModal=this.dailyPrice,this.fixedModal=this.fixedPrice,this.onSaleModal=this.discount.onSale,this.onSaleTypeModal=this.discount.onSaleType,this.onSaleValueModal=this.discount.onSaleValue,this.overDaysModal=this.overDays.days,this.overSaleModal=this.overDays.onSale,this.overSaleTypeModal=this.overDays.onSaleType,this.overSaleValueModal=this.overDays.onSaleValue,this.descriptionModal=this.description,this.noteModal=this.note},changeInStock:function(){var e=this;this.enter=!0;var t={};t.available=!this.available,h.saveDataProduct(this.identifier,t).then((function(){alert("Modifica disponibilità riuscita"),e.enter=!1}))},changeOnSale:function(){this.onSaleModal?this.onSaleModal=!1:this.onSaleModal=!0},changeDiscountType:function(){this.onSaleTypeModal?this.onSaleTypeModal=!1:this.onSaleTypeModal=!0},changeOnSaleOverDays:function(){this.overSaleModal?this.overSaleModal=!1:this.overSaleModal=!0},changeDiscountTypeOverDays:function(){this.overSaleTypeModal?this.overSaleTypeModal=!1:this.overSaleTypeModal=!0},saveData:function(){var e=this;this.enter=!0;var t={};if(this.titleModal!=this.title&&""!=this.titleModal)t.title=this.titleModal;else if(""==this.titleModal)return this.enter=!1,alert("Il titolo non può essere vuoto");if(this.imageModal!=this.image&&""!=this.imageModal){t.image=this.imageModal;try{this.imageModal=new URL(this.imageModal)}catch(o){return this.enter=!1,alert("Formato dell' immagine non corretto")}}else if(""==this.imageModal)return this.enter=!1,alert("L' immagine non può essere vuoto");if(this.dailyModal!=this.dailyPrice&&this.dailyModal>0)t.price=this.dailyModal;else if(this.dailyPrice<=0||""==this.dailyPrice)return this.enter=!1,alert("Prezzo giornaliero non corretto");if(this.fixedModal!=this.fixedPrice&&this.fixedModal>0)t.fixedPrice=this.fixedModal;else if(this.fixedModal<=0||""==this.fixedModal)return this.enter=!1,alert("Prezzo fisso non corretto");if(this.descriptionModal!=this.description&&""!=this.descriptionModal)t.description=this.descriptionModal;else if(""==this.descriptionModal)return this.enter=!1,alert("La descrizione non può essere vuota");var a=this.getDiscountedModal;if(a<=0)return this.enter=!1,alert("Lo sconto non è valido");var i=[];""==this.tagsModal||("string"!==typeof this.tagsModal&&(this.tagsModal=this.tagsModal.join(" ")),this.tagsModal=this.tagsModal.replace(/,/g," "),i=Object(L["a"])(new Set(this.tagsModal.split(/\s+/))),""==i[i.length-1]&&i.pop()),t.tags=i,this.brand!=this.brandModal&&(t.brand=this.brandModal),this.quality!=this.qualityModal&&(t.quality=this.qualityModal),this.noteModal!=this.note&&(t.note=this.noteModal),t.discount={},this.onSaleModal&&t.discount.onSaleValue>0?(t.discount.onSale=!0,this.onSaleTypeModal?t.discount.onSaleType=!0:t.discount.onSaleType=!1,t.discount.onSaleValue=this.onSaleValueModal):(t.discount.onSale=!1,t.discount.onSaleType=!1,t.discount.onSaleValue="",this.onSaleModal=!1,this.onSaleTypeModal=!1,this.onSaleValueModal=""),t.overDays={},this.overSaleModal&&this.overDaysModal>0&&this.overSaleValueModal>0?(t.overDays.onSale=!0,this.overSaleTypeModal?t.overDays.onSaleType=!0:t.overDays.onSaleType=!1,t.overDays.days=this.overDaysModal,t.overDays.onSaleValue=this.overSaleValueModal):(t.overDays.days="",t.overDays.onSale=!1,t.overDays.onSaleType=!1,t.overDays.onSaleValue="",this.overSaleModal=!1,this.overDaysModal="",this.overSaleValueModal="",this.overSaleTypeModal=!1),this.enter=!1,console.log(t),h.saveDataProduct(this.identifier,t).then((function(){e.title=e.titleModal,e.brand=e.brandModal,e.image=e.imageModal,e.tags=i,e.quality=e.qualityModal,e.dailyPrice=e.dailyModal,e.fixedPric=e.fixedModal,e.discount.onSale=e.onSaleModal,e.discount.onSaleType=e.onSaleTypeModal,e.discount.onSaleValue=e.onSaleValueModal,e.overDays.day=e.overDaysModal,e.overDays.onSal=e.overSaleModal,e.overDays.onSaleTyp=e.overSaleTypeModal,e.overDays.onSaleValu=e.overSaleValueModal,e.description=e.descriptionModal,e.note=e.noteModal,alert("Modifica riuscita"),e.enter=!1}))},deleteProduct:function(){var e=this;this.enter=!0,h.deleteProduct(this.identifier).then((function(){e.$router.push({name:"articleCatalog",params:{filter:""}})}))}},computed:{getDiscountedPrice:function(){return this.discount.onSaleType?(this.fixedPrice-this.fixedPrice*this.discount.onSaleValue/100).toFixed(2):(this.fixedPrice-this.discount.onSaleValue).toFixed(2)},getDiscountedModal:function(){return this.onSaleTypeModal?(this.fixedModal-this.fixedModal*this.onSaleValueModal/100).toFixed(2):(this.fixedModal-this.onSaleValueModal).toFixed(2)}}}),oe=ie,se=(a("8d0e"),Object(y["a"])(oe,te,ae,!1,null,null,null)),re=se.exports,le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-fluid d-flex justify-content-center",attrs:{id:"main"}},[a("div",{staticClass:"w-50"},[a("form",{attrs:{name:"myform",id:"formId"},on:{submit:function(t){return t.preventDefault(),e.saveData.apply(null,arguments)}}},[a("h1",{staticClass:"mb-3",attrs:{tabindex:"0"}},[e._v(" Account ")]),a("div",{staticClass:"form-floating mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",id:"name","aria-label":"Nome:Campo obbligatorio",disabled:!e.boolModify,required:""},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),a("label",{attrs:{for:"name"}},[e._v(" Nome ")])]),a("div",{staticClass:"form-floating mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.surname,expression:"surname"}],staticClass:"form-control",attrs:{type:"text",id:"surname","aria-label":"cognome:Campo obbligatorio",disabled:!e.boolModify,required:""},domProps:{value:e.surname},on:{input:function(t){t.target.composing||(e.surname=t.target.value)}}}),a("label",{attrs:{for:"surname"}},[e._v(" Cognome")])]),a("div",{staticClass:"form-floating mb-3"},[a("input",{staticClass:"form-control",attrs:{type:"text",id:"identifier","aria-label":"identificativoCampo non modificabile",disabled:!e.boolModify,readonly:e.boolModify,required:""},domProps:{value:e.id}}),a("label",{attrs:{for:"identifier"}},[e._v(" ID"),e.boolModify?a("span",[e._v("(non modificabile)")]):e._e()])]),a("div",{staticClass:"form-floating mb-3"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.sex,expression:"sex"}],staticClass:"form-select zIndex mb-5",attrs:{id:"sex",tabindex:"0",disabled:!e.boolModify,"aria-label":"sesso:Campo obbligatorio"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.sex=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"male"}},[e._v("M")]),a("option",{attrs:{value:"female"}},[e._v("F")]),a("option",{attrs:{value:"other"}},[e._v("Altro")])]),a("label",{attrs:{for:"sex"}},[e._v(" Sesso ")])]),a("div",{staticClass:"form-floating mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.phoneNumber,expression:"phoneNumber"}],staticClass:"form-control",attrs:{type:"tel",id:"phone","aria-label":"numero telefono:Campo obbligatorio",disabled:!e.boolModify,required:""},domProps:{value:e.phoneNumber},on:{input:function(t){t.target.composing||(e.phoneNumber=t.target.value)}}}),a("label",{attrs:{for:"phone"}},[e._v(" Numero di telefono")])]),a("div",{staticClass:"form-floating mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",id:"mail","aria-label":"email:Campo non modificabile",disabled:!e.boolModify,readonly:e.boolModify,required:""},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),a("label",{attrs:{for:"mail"}},[e._v(" E-mail "),e.boolModify?a("span",[e._v("(non modificabile)")]):e._e()])]),a("hr"),a("div",{staticClass:"form-floating mb-3"},[a("b-form-datepicker",{staticClass:"form-control",attrs:{id:"birthday",type:"date","aria-label":"Data di nascita: Campo obbligatorio'",disabled:!e.boolModify,required:""},model:{value:e.birthday,callback:function(t){e.birthday=t},expression:"birthday"}}),a("label",{attrs:{for:"birthday"}},[e._v(" Data di nascita")])],1),a("hr"),a("div",{staticClass:"row mb-3"},[a("h3",{attrs:{tabindex:"0","aria-label":e.boolModify?"Fine informazioni personali. Inizio informazioni sulla abitazione":"Informazioni sulla abitazione. Clicca modifica in fondo alla pagina per modificare"}},[e._v("Indirizzo")])]),a("div",{staticClass:"form-floating mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.address.addressStreet,expression:"address.addressStreet"}],staticClass:"form-control",attrs:{type:"text",id:"street","aria-label":"Via:. Campo obbligatorio",disabled:!e.boolModify,required:""},domProps:{value:e.address.addressStreet},on:{input:function(t){t.target.composing||e.$set(e.address,"addressStreet",t.target.value)}}}),a("label",{attrs:{for:"street"}},[e._v(" Via")])]),a("div",{staticClass:"form-floating mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.address.addressNumber,expression:"address.addressNumber"}],staticClass:"form-control",attrs:{type:"number",id:"num","aria-label":"numero:. Campo obbligatorio",step:"1",min:"1",disabled:!e.boolModify,required:""},domProps:{value:e.address.addressNumber},on:{input:function(t){t.target.composing||e.$set(e.address,"addressNumber",t.target.value)}}}),a("label",{attrs:{for:"num"}},[e._v(" Numero")])]),a("div",{staticClass:"form-floating mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.address.addressCity,expression:"address.addressCity"}],staticClass:"form-control",attrs:{type:"text",id:"city","aria-label":"Città:. Campo obbligatorio",disabled:!e.boolModify,required:""},domProps:{value:e.address.addressCity},on:{input:function(t){t.target.composing||e.$set(e.address,"addressCity",t.target.value)}}}),a("label",{attrs:{for:"city"}},[e._v(" Città")])]),a("hr"),a("div",{staticClass:"row mb-3"},[a("h3",{attrs:{tabindex:"0","aria-label":e.boolModify?"Fine informazioni indirizzo, inizio informazioni metodo di pagamento":"inizio informazioni metodo di pagamento. Clicca modifica  in fondo alla pagina per modificare"}},[e._v("Metodo di pagamento")])]),a("div",{staticClass:"form-floating mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.payment.cardType,expression:"payment.cardType"}],staticClass:"form-control",attrs:{type:"text",id:"cardType","aria-label":"Tipo di carta:. Campo obbligatorio",disabled:!e.boolModify,required:""},domProps:{value:e.payment.cardType},on:{input:function(t){t.target.composing||e.$set(e.payment,"cardType",t.target.value)}}}),a("label",{attrs:{for:"cardType"}},[e._v(" Tipo di carta")])]),a("div",{staticClass:"form-floating mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.payment.cardName,expression:"payment.cardName"}],staticClass:"form-control",attrs:{type:"number",id:"cardName","aria-label":"numero carta::. Campo obbligatorio",disabled:!e.boolModify,required:""},domProps:{value:e.payment.cardName},on:{input:function(t){t.target.composing||e.$set(e.payment,"cardName",t.target.value)}}}),a("label",{attrs:{for:"cardName"}},[e._v(" Numero carta")])]),a("div",{staticClass:"form-floating mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.payment.cardSurname,expression:"payment.cardSurname"}],staticClass:"form-control",attrs:{type:"text",id:"owner","aria-label":"proprietario:. Campo obbligatorio",disabled:!e.boolModify,required:""},domProps:{value:e.payment.cardSurname},on:{input:function(t){t.target.composing||e.$set(e.payment,"cardSurname",t.target.value)}}}),a("label",{attrs:{for:"owner"}},[e._v(" Proprietario")])]),e._m(0),a("div",{staticClass:"form-floating mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.payment.cardExpireMonth,expression:"payment.cardExpireMonth"}],staticClass:"form-control",attrs:{type:"number",min:"1",max:"12",step:"1",id:"cardMonth","aria-label":"Mese scadenza carta:. Campo obbligatorio",disabled:!e.boolModify,required:""},domProps:{value:e.payment.cardExpireMonth},on:{input:function(t){t.target.composing||e.$set(e.payment,"cardExpireMonth",t.target.value)}}}),a("label",{attrs:{for:"cardMonth"}},[e._v(" Mese")])]),a("div",{staticClass:"form-floating mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.payment.cardExpireYear,expression:"payment.cardExpireYear"}],staticClass:"form-control",attrs:{type:"number",min:"2021",max:"2030",step:"1",id:"cardYear","aria-label":"Anno scadenza carta:. Campo obbligatorio",disabled:!e.boolModify,required:""},domProps:{value:e.payment.cardExpireYear},on:{input:function(t){t.target.composing||e.$set(e.payment,"cardExpireYear",t.target.value)}}}),a("label",{attrs:{for:"cardYear"}},[e._v(" Anno")])]),a("div",{staticClass:"row",attrs:{id:"myButtons"}},[a("div",{staticClass:"col"},[e.boolModify?e._e():a("b-button",{staticClass:"btn btn-lg btn-secondary mb-2 mt-2",attrs:{type:"button","aria-label":"Bottone modifica. Premendo questo bottone scomparirà e appariranno i bottoni salva e annulla",disabled:e.enter},on:{click:e.modify}},[e._v("Modifica")]),e.boolModify?a("b-button",{staticClass:"btn btn-lg btn-success m-2",attrs:{type:"submit","aria-label":"Bottone salva. Salva le modifiche e rimette i campi disabilitati. Per ulteriori modifiche premi il bottone modifica",disabled:e.enter}},[e._v("Salva")]):e._e(),e.boolModify?a("b-button",{staticClass:"btn btn-lg btn-danger mb-2 mt-2",attrs:{type:"button","aria-label":"Bottone annulla. Ripristina le informazioni iniziali",disabled:e.enter},on:{click:e.undoChange}},[e._v("Annulla")]):e._e()],1),a("div",{staticClass:"col"},[a("b-button",{staticClass:"btn btn-lg btn-danger mb-2 mt-2",attrs:{type:"button","aria-label":"Bottone analytics. Porta alla pagina delle statisctiche di questo cliente",disabled:0===e.bookings.length||e.enter},on:{click:e.chart}},[e._v("Analytics")])],1),a("div",{staticClass:"col"},[a("b-button",{staticClass:"btn btn-lg btn-danger mb-2 mt-2",attrs:{type:"button","aria-label":"Bottone elimina cliente. Rimanda al elenco dei clienti ",disabled:e.boolDelete||e.enter},on:{click:e.deleteUser}},[e._v("Elimina cliente")])],1)])]),0!==e.bookings.length?[a("hr"),a("h3",{attrs:{tabindex:"0"}},[e._v("Tabella prenotazioni")]),a("div",{staticClass:"p-3"},[a("b-row",[a("b-table",{attrs:{hover:"",items:e.bookings,fields:e.fields},scopedSlots:e._u([{key:"cell(prodotto)",fn:function(t){var i=t.item;return[a("router-link",{attrs:{"aria-label":"Articolo: "+i.title,to:{name:"article",params:{id:i.id}}}},[e._v(e._s(i.title))])]}},{key:"cell(prezzo)",fn:function(t){var i=t.item;return[a("span",{attrs:{tabindex:"0","aria-label":"totale prenotazione: "+i.price+"€"}},[e._v(e._s(i.price+"€"))])]}},{key:"cell(prenotazione)",fn:function(t){var i=t.item;return[a("router-link",{attrs:{"aria-label":"identificativo prenotazione: "+i.reservation,to:{name:"reservation",params:{id:i.reservation}}}},[e._v(e._s(i.reservation))])]}},{key:"cell(DataInizio)",fn:function(t){var i=t.item;return[a("span",{attrs:{tabindex:"0","aria-label":"inizio prenotazione"+i.startDate}},[e._v(e._s(i.startDate))])]}},{key:"cell(DataFine)",fn:function(t){var i=t.item;return[a("span",{attrs:{tabindex:"0","aria-label":"fine prenotazione"+i.endDate}},[e._v(e._s(i.endDate))])]}}],null,!1,1920297769)})],1)],1)]:e._e()],2)])},ne=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row mb-3"},[a("b",[e._v("Data scadenza")])])}],ce=(a("b0c0"),a("1157")),de=a.n(ce),ue={data:function(){return{enter:!1,user:{},id:"",name:"",surname:"",sex:"",birthday:"",phoneNumber:"",email:"",password:"",address:{addressStreet:"",addressNumber:"",addressCity:""},payment:{cardType:"",cardName:"",cardSurname:"",cardExpireMonth:"",cardExpireYear:"",cardCVV:""},bookings:[],fields:[{key:"prodotto",sortable:!1},{key:"prenotazione",sortable:!1},{key:"prezzo",sortable:!0},{key:"DataInizio",sortable:!0},{key:"DataFine",sortable:!0}],boolModify:!1,boolDelete:!1}},created:function(){var e,t=this;e=this.$route.params.email,h.getUser(e).then((function(e){t.user=e.data.data,console.log(t.user),t.undoChange()}),(function(e){alert("La pagina non esiste"),t.$router.push({name:"clientCatalog",params:{filter:""}})}));var a={filter:this.$route.params.email,sort:!1};h.getAllReservation(a).then((function(e){console.log(e.data.obj);var a=new Date;for(var i in e.data.obj){var o={};o.title=e.data.obj[i].productTitle,o.id=e.data.obj[i].productId,o.price=e.data.obj[i].totalPrice,o.reservation=e.data.obj[i]._id,o.startDate=e.data.obj[i].startDate.day+"-"+e.data.obj[i].startDate.month+"-"+e.data.obj[i].startDate.year,o.endDate=e.data.obj[i].endDate.day+"-"+e.data.obj[i].endDate.month+"-"+e.data.obj[i].endDate.year;var s=new Date(e.data.obj[i].endDate.year,e.data.obj[i].endDate.month-1,e.data.obj[i].endDate.day);s>=a&&(t.boolDelete=!0),console.log(o),t.bookings.push(o)}}))},methods:{modify:function(){this.boolModify=!0},undoChange:function(){this.id=this.user._id,this.name=this.user.userName,this.surname=this.user.userSurname,this.birthday=this.user.birthday.year+"-"+this.user.birthday.month+"-"+this.user.birthday.day,this.sex=this.user.sex,this.phoneNumber=this.user.phoneNumber,this.email=this.user.email,this.address.addressStreet=this.user.address.addressStreet,this.address.addressNumber=this.user.address.addressNumber,this.address.addressCity=this.user.address.addressCity,this.payment.cardType=this.user.payment.cardType,this.payment.cardName=this.user.payment.cardName,this.payment.cardSurname=this.user.payment.cardSurname,this.payment.cardExpireMonth=this.user.payment.cardExpireMonth,this.payment.cardExpireYear=this.user.payment.cardExpireYear,this.payment.cardCVV=this.user.payment.cardCVV,this.boolModify=!1},saveData:function(){var e=this;this.enter=!0;var t={};this.user.userName!=this.name&&(t.userName=this.name),this.user.userSurname!=this.surname&&(t.userSurname=this.surname),this.user.sex!=this.sex&&(t.sex=this.sex);var a=this.birthday.split("-");a[0]==this.user.birthday.year&&a[1]==this.user.birthday.month&&a[2]==this.user.birthday.day||(t.birthday={},t.birthday.day=a[2],t.birthday.month=a[1],t.birthday.year=a[0]),this.user.phoneNumber!=this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.user.email!=this.email&&(t.email=this.email),this.user.address.addressStreet==this.address.addressStreet&&this.user.address.addressNumber==this.address.addressNumber&&this.user.address.addressCity==this.address.addressCity||(t.address={},t.address.addressStreet=this.address.addressStreet,t.address.addressNumber=this.address.addressNumber,t.address.addressCity=this.address.addressCity),this.user.payment.cardType==this.payment.cardType&&this.user.payment.cardName==this.payment.cardName&&this.user.payment.cardSurname==this.payment.cardSurname&&this.user.payment.cardExpireMonth==this.payment.cardExpireMonth&&this.user.payment.cardExpireYear==this.payment.cardExpireYear||(t.payment={},t.payment.cardType=this.payment.cardType,t.payment.cardName=this.payment.cardName,t.payment.cardSurname=this.payment.cardSurname,t.payment.cardExpireMonth=this.payment.cardExpireMonth,t.payment.cardExpireYear=this.payment.cardExpireYear),console.log(t),h.saveDataClient(this.id,t).then((function(){alert("modifica riuscita"),e.user.userName=e.name,e.user.userSurname=e.surname,e.user.sex=e.sex,e.user.phoneNumber=e.phoneNumber,e.user.email=e.email,e.user.birthday=a[0]+"-"+a[1]+"-"+a[2],e.user.address.addressStreet=e.address.addressStreet,e.user.address.addressNumber=e.address.addressNumber,e.user.address.addressCity=e.address.addressCity,e.user.payment.cardType=e.payment.cardType,e.user.payment.cardName=e.payment.cardName,e.user.payment.cardSurname=e.payment.cardSurname,e.user.payment.cardExpireMonth=e.payment.cardExpireMonth,e.user.payment.cardExpireYear=e.payment.cardExpireYear,e.boolModify=!1,e.enter=!1}))},deleteUser:function(){var e=this;this.enter=!0,h.deleteUser(this.id).then((function(){e.$router.push({name:"clientCatalog",params:{filter:""}})}))},chart:function(){this.$router.push({name:"clientChart",params:{email:this.email}})}}};de()(document).ready((function(){de()("#myInput").on("keyup",(function(){var e=de()(this).val().toLowerCase();de()("#myTable tr").filter((function(){de()(this).toggle(de()(this).text().toLowerCase().indexOf(e)>-1)}))}))}));var me=ue,ve=(a("e7d1"),Object(y["a"])(me,le,ne,!1,null,"3f42d278",null)),be=ve.exports,pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-fluid d-flex justify-content-center",attrs:{id:"main"}},[a("div",{staticClass:"w-50"},[a("div",{staticClass:"row mt-3"},[a("div",{staticClass:"col-6",attrs:{id:"img"}},[a("b-img",{staticClass:"img-thumbnail",attrs:{src:e.reservation.productImage,tabindex:"0",alt:"Immagine"+e.reservation.productTitle+" "+e.reservation.productBrand}})],1),a("div",{staticClass:"col-6",attrs:{id:"info"}},[a("p",{attrs:{tabindex:"0","aria-label":"Identificativo prenotazione"+e.reservationId}},[e._v("Id prenotazione: "+e._s(e.reservationId)+" ")]),a("p",[a("router-link",{attrs:{"aria-label":"Prodotto"+e.reservation.productTitle+" "+e.reservation.productBrand,to:{name:"article",params:{id:e.reservation.productId}}}},[e._v(e._s(e.reservation.productTitle+" "+e.reservation.productBrand))])],1),a("p",[a("router-link",{attrs:{"aria-label":"Email cliente"+e.reservation.clientEmail,to:{name:"client",params:{email:e.reservation.clientEmail}}}},[e._v(e._s(e.reservation.clientEmail))])],1)])]),a("form",{attrs:{name:"myform",id:"formId"},on:{submit:function(t){return t.preventDefault(),e.saveData.apply(null,arguments)}}},[a("div",{staticClass:"form-floating mb-3 mt-3"},[a("input",{staticClass:"form-control",attrs:{id:"bookingRequest",type:"text",readonly:""},domProps:{value:e.bookingRequest}}),a("label",{attrs:{for:"bookingRequest"}},[e._v(" Data richiesta prenotazione (sola lettura)")])]),a("div",{staticClass:"row mb-3"},[e._m(0),a("div",{staticClass:"col-9"},[e.boolModify&&e.available?[a("date-picker",{attrs:{id:"date","aria-label":"Periodo prenotazione",placeholder:e.bookingStart+" ~ "+e.bookingEnd,range:"",lang:e.lang,"disabled-date":e.dateDisabled,format:"DD-MM-YYYY",required:""},on:{change:e.changeData},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}})]:[a("input",{staticClass:"form-control",attrs:{type:"text",id:"date","aria-label":"Periodo Prenotazione. Sola lettura",readonly:""},domProps:{value:e.bookingStart+" ~ "+e.bookingEnd}}),!e.available&&e.boolModify?a("label",{staticClass:"mr-3",attrs:{for:"date"}},[e._v("Non disponibile in giorni diversi ")]):e._e()]],2)]),a("div",{staticClass:"form-floating mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.fixedPrice,expression:"fixedPrice"}],staticClass:"form-control",attrs:{type:"number",min:"1",step:"1",disabled:!e.boolModify,"aria-label":"prezzo fisso. Campo obbligatorio ",required:""},domProps:{value:e.fixedPrice},on:{keyup:e.newPrice,input:function(t){t.target.composing||(e.fixedPrice=t.target.value)}}}),a("label",{attrs:{for:"price"}},[e._v(" Prezzo Fisso*")])]),a("div",{staticClass:"row mb-3",attrs:{id:"saleRow"}},[e._m(1),a("div",{staticClass:"col-9 "},[a("div",{staticClass:" form-check"},[a("input",{staticClass:"form-check-input",attrs:{type:"checkbox","aria-label":"Seleziona per applicare/togliere sconto fisso",disabled:!e.boolModify},domProps:{checked:e.onSale},on:{click:e.changeSale}}),e.onSale?a("label",{staticClass:"form-check-label",attrs:{for:"sale"}},[e._v("L'articolo verrà scontato")]):a("label",{staticClass:"form-check-label",attrs:{for:"sale"}},[e._v("Il prodotto non è scontato")])])])]),e.onSale?[a("div",{staticClass:"mt-2",attrs:{id:"saleInfo"}},[a("div",{staticClass:"row"},[e._m(2),a("div",{staticClass:"col-3"},[a("div",{staticClass:"form-check"},[a("input",{staticClass:"form-check-input",attrs:{type:"radio","aria-label":" sconto percentuale prezzo fisso. Seleziona uno dei due",disabled:!e.boolModify,id:"percentage",required:""},domProps:{value:!0,checked:e.onSaleType},on:{click:e.changeOnSaleType}}),a("label",{staticClass:"form-check-label",attrs:{for:"percentage"}},[e._v("Percentuale")])])]),a("div",{staticClass:"col-3"},[a("div",{staticClass:"form-check"},[a("input",{staticClass:"form-check-input",attrs:{type:"radio","aria-label":" sconto fisso prezzo fisso. Seleziona uno dei due",disabled:!e.boolModify,id:"flat",required:""},domProps:{value:!1,checked:!e.onSaleType},on:{click:e.changeOnSaleType}}),a("label",{staticClass:"form-check-label",attrs:{for:"flat"}},[e._v("Fisso")])])])]),a("div",{staticClass:"row mb-3"},[e._m(3),a("div",{staticClass:"col-9"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.onSaleValue,expression:"onSaleValue"}],staticClass:"form-control",attrs:{type:"number","aria-label":" valore sconto prezzo fisso. Campo obbligatorio",min:"1",step:"1",readonly:!e.boolModify,id:"saleValue",required:""},domProps:{value:e.onSaleValue},on:{keyup:e.newPrice,input:function(t){t.target.composing||(e.onSaleValue=t.target.value)}}})])])])]:e._e(),a("div",{staticClass:"form-floating mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.dailyPrice,expression:"dailyPrice"}],staticClass:"form-control",attrs:{type:"number",min:"1",step:"1","aria-label":" prezzo giornaliero. Campo obbligatorio",disabled:!e.boolModify,required:""},domProps:{value:e.dailyPrice},on:{keyup:e.newPrice,input:function(t){t.target.composing||(e.dailyPrice=t.target.value)}}}),a("label",{attrs:{for:"price"}},[e._v(" Prezzo Giornaliero*")])]),a("div",{staticClass:"row mb-3",attrs:{id:"saleRow"}},[e._m(4),a("div",{staticClass:"col-9 "},[a("div",{staticClass:"form-check"},[a("input",{staticClass:"form-check-input",attrs:{type:"checkbox","aria-label":"Seleziona per applicare/togliere sconto giornaliero",disabled:!e.boolModify},domProps:{checked:e.overOnSale},on:{click:e.changeDailySale}}),e.overOnSale?a("label",{staticClass:"form-check-label",attrs:{for:"sale"}},[e._v("L'articolo verrà scontato")]):a("label",{staticClass:"form-check-label",attrs:{for:"sale"}},[e._v("Il prodotto non è scontato")])])])]),e.overOnSale?[a("div",{staticClass:"mt-2",attrs:{id:"saleInfoOver"}},[a("div",{staticClass:"row"},[e._m(5),a("div",{staticClass:"col-3"},[a("div",{staticClass:"form-check"},[a("input",{staticClass:"form-check-input",attrs:{"aria-label":" sconto percentuale prezzo giornaliero. Seleziona uno dei due",type:"radio",disabled:!e.boolModify,id:"percentageOver",required:""},domProps:{value:!0,checked:e.overOnSaleType},on:{click:e.changeType}}),a("label",{staticClass:"form-check-label",attrs:{for:"percentage"}},[e._v("Percentuale")])])]),a("div",{staticClass:"col-3"},[a("div",{staticClass:"form-check"},[a("input",{staticClass:"form-check-input",attrs:{"aria-label":" sconto fisso prezzo giornaliero. Seleziona uno dei due",type:"radio",disabled:!e.boolModify,id:"flatOver",required:""},domProps:{value:!1,checked:!e.overOnSaleType},on:{click:e.changeType}}),a("label",{staticClass:"form-check-label",attrs:{for:"flat"}},[e._v("Fisso")])])])]),a("div",{staticClass:"row"},[e._m(6),a("div",{staticClass:"col-9"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.overOnSaleValue,expression:"overOnSaleValue"}],staticClass:"form-control",attrs:{type:"number","aria-label":" valore sconto prezzo giornaliero. Campo obbligatorio",min:"1",step:"1",readonly:!e.boolModify,id:"saleValueOVer",required:""},domProps:{value:e.overOnSaleValue},on:{keyup:e.newPrice,input:function(t){t.target.composing||(e.overOnSaleValue=t.target.value)}}})])]),a("div",{staticClass:"row mt-2 mb-2"},[a("div",{staticClass:"col-3"},[e._v("Giorni per sconto:")]),a("div",{staticClass:"col-9"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.overDaysCount,expression:"overDaysCount"}],staticClass:"form-control",attrs:{type:"number","aria-label":" giorni da superare per applivare sconto giornaliero. Campo obbligatorio",min:"1",step:"1",readonly:!e.boolModify,id:"daysDiscount",required:""},domProps:{value:e.overDaysCount},on:{keyup:e.newPrice,input:function(t){t.target.composing||(e.overDaysCount=t.target.value)}}})])])])]:e._e(),a("div",{staticClass:"form-floating mb-3"},[a("input",{staticClass:"form-control",attrs:{type:"number","aria-label":"Prezzo totale. Sola lettura. Se negativo non si potrà modificare la prenotazione",readonly:""},domProps:{value:e.newTotal}}),a("label",{attrs:{for:"price"}},[e._v(" Prezzo Totale")])]),a("div",{staticClass:"form-floating mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.notes,expression:"notes"}],staticClass:"form-control",attrs:{type:"text",id:"notes",disabled:!e.boolModify},domProps:{value:e.notes},on:{input:function(t){t.target.composing||(e.notes=t.target.value)}}}),a("label",{attrs:{for:"notes"}},[e._v(" Descrizione")])]),a("div",{staticClass:"form-floating mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.privateNotes,expression:"privateNotes"}],staticClass:"form-control",attrs:{type:"text",id:"privateNotes",disabled:!e.boolModify},domProps:{value:e.privateNotes},on:{input:function(t){t.target.composing||(e.privateNotes=t.target.value)}}}),a("label",{attrs:{for:"privateNotes"}},[e._v(" Note(non visibili ai clienti)")])]),a("div",{staticClass:"row mb-3 ml-3"},[a("div",{staticClass:"col-6 form-check "},[a("input",{staticClass:"form-check-input",attrs:{"aria-label":"seleziona per indicare che il prodotto è stato/ non è stato ritirato",type:"checkbox",disabled:!e.boolModify&&!e.boolDelete,id:"flexCheckDefault1"},domProps:{checked:e.rentalOccurred},on:{click:e.changeRentalOccured}}),e.rentalOccurred?a("label",{staticClass:"form-check-label",attrs:{tabindex:"0",for:"flexCheckDefault"}},[e._v("Il prodotto è stato ritirato")]):a("label",{staticClass:"form-check-label",attrs:{tabindex:"0",for:"flexCheckDefault"}},[e._v("Il prodotto non è stato ritirato")])]),a("div",{staticClass:"col-6 form-check"},[a("input",{staticClass:"form-check-input",attrs:{"aria-label":"seleziona per indicare che il prodotto è stato/ non è stato restituito",type:"checkbox",disabled:!e.boolModify&&!e.boolDelete,id:"flexCheckDefault2"},domProps:{checked:e.returned},on:{click:e.changeReturned}}),e.returned?a("label",{staticClass:"form-check-label",attrs:{tabindex:"0",for:"flexCheckDefault"}},[e._v(" Il prodotto è stato restituito ")]):a("label",{staticClass:"form-check-label",attrs:{tabindex:"0",for:"flexCheckDefault"}},[e._v(" Il prodotto non è stato restituito ")])])]),e.boolModify||e.boolDelete?e._e():a("b-button",{staticClass:"btn btn-lg btn-secondary mb-2 mt-2 mr-2",attrs:{type:"button","aria-label":"Bottone modifica. Permette di modificare i campi. Se la prenotazione è attiva o già conclusa non sarà possibile modificarne i dati. Se il prodotto non è disponibile non sarà possibile modificare il periodo di prenotazione",disabled:e.enter},on:{click:e.modify}},[e._v("Modifica")]),e.boolModify||e.boolDelete?a("b-button",{staticClass:"btn btn-lg btn-success m-2",attrs:{type:"submit","aria-label":"Bottone salva. Salva le modifiche e le applica alla pagina",disabled:e.enter||e.negativePrice}},[e._v("Salva")]):e._e(),e.boolModify||e.boolDelete?a("b-button",{staticClass:"btn btn-lg btn-danger m-2",attrs:{type:"button","aria-label":"Bottone annulla. Reimposta i campo al loro stato iniziale. Premere il tasto modificare per modificare nuovamente",disabled:e.enter},on:{click:e.undoChange}},[e._v("Annulla")]):e._e(),a("button",{staticClass:"btn btn-lg btn-danger delete mb-2 mt-2 ml-2",attrs:{"aria-label":"Bottone elimina. Elimina la prenotazione e porta alla lista delle prenotazioni",disabled:e.boolActive||e.enter},on:{click:e.deleteReservation}},[e._v(" Cancella prenotazione")])],2)])])},he=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-3"},[a("label",{staticClass:"mr-3",attrs:{for:"date"}},[e._v("Periodo Prenotazione ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-3"},[a("label",[a("b",[e._v("Sconto Prezzo fisso:")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-3"},[a("p",[e._v(" Tipo di sconto:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-3"},[a("p",[e._v(" Valore sconto:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-3"},[a("label",[a("b",[e._v("Sconto Prezzo giornaliero:")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-3"},[a("p",[e._v(" Tipo di sconto:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-3"},[a("p",[e._v(" Valore sconto:")])])}],fe={components:{DatePicker:W["a"]},data:function(){return{enter:!1,reservation:{},bookings:[],available:"",reservationId:"",bookingRequest:"",bookingStart:"",bookingEnd:"",dailyPrice:"",fixedPrice:"",newTotal:"",onSale:!1,onSaleType:!1,onSaleValue:0,overDaysCount:"",overOnSale:!1,overOnSaleType:!1,overOnSaleValue:0,rentalOccurred:!0,returned:!1,notes:"",privateNotes:"",time:null,lang:{formatLocale:{firstDayOfWeek:1,months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Augosto","Settembre","Ottobre","Novembre","Dicembre"],monthsShort:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],weekdaysMin:["Do","Lu","Ma","Me","Gi","Ve","Sa"]},monthBeforeYear:!1},boolModify:!1,boolDelete:!1,boolActive:!1,negativePrice:!1}},created:function(){var e=this;h.getReservation(this.$route.params.id).then((function(t){e.reservationId=e.$route.params.id,e.reservation=t.data.data.obj,console.log(e.reservation),e.undoChange();var a=new Date,i=new Date(e.reservation.startDate.year,e.reservation.startDate.month-1,e.reservation.startDate.day);i<=a&&(e.boolActive=!0),h.getProduct(e.reservation.productId).then((function(t){e.bookings=t.data.data.obj.bookings,console.log(e.bookings),e.available=t.data.data.obj.available}))}),(function(t){alert("La pagina non esiste"),e.$router.push({name:"reservationCatalog",params:{filter:""}})}))},methods:{modify:function(){this.boolActive?this.boolDelete=!0:this.boolModify=!0},undoChange:function(){this.dailyPrice=this.reservation.variablePrice,this.fixedPrice=this.reservation.fixedPrice,this.newTotal=this.reservation.totalPrice,this.onSale=this.reservation.fixedDiscount.onSale,this.onSaleType=this.reservation.fixedDiscount.onSaleType,this.onSaleValue=this.reservation.fixedDiscount.onSaleValue,this.overDaysCount=this.reservation.variableDiscount.days,this.overOnSale=this.reservation.variableDiscount.onSale,this.overOnSaleType=this.reservation.variableDiscount.onSaleType,this.overOnSaleValue=this.reservation.variableDiscount.onSaleValue,this.bookingRequest=this.reservation.bookingDate.day+"-"+this.reservation.bookingDate.month+"-"+this.reservation.bookingDate.year,this.bookingStart=this.reservation.startDate.day+"-"+this.reservation.startDate.month+"-"+this.reservation.startDate.year,this.bookingEnd=this.reservation.endDate.day+"-"+this.reservation.endDate.month+"-"+this.reservation.endDate.year,this.rentalOccurred=this.reservation.isTaken,this.returned=this.reservation.isReturned,this.notes=this.reservation.description,this.privateNotes=this.reservation.note,this.time=null,this.boolModify=!1,this.boolDelete=!1},saveData:function(){var e=this;this.enter=!0;var t={};if(this.dailyPrice!=this.reservation.variablePrice&&(t.variablePrice=this.dailyPrice),this.fixedPrice!=this.reservation.fixedPrice&&(t.fixedPrice=this.fixedPrice),this.onSale==this.reservation.fixedDiscount.onSale&&this.onSaleType==this.reservation.fixedDiscount.onSaleType&&this.onSaleValue==this.reservation.fixedDiscount.onSaleValue||(t.fixedDiscount={},t.fixedDiscount.onSale=this.onSale,t.fixedDiscount.onSaleType=this.onSaleType,t.fixedDiscount.onSaleValue=this.onSaleValue),this.overDaysCount==this.reservation.variableDiscount.days&&this.overOnSale==this.reservation.variableDiscount.onSale&&this.overOnSaleType==this.reservation.variableDiscount.onSaleType&&this.overOnSaleValue==this.reservation.variableDiscount.onSaleValue||(t.variableDiscount={},t.variableDiscount.onSale=this.overOnSale,t.variableDiscount.onSaleType=this.overOnSaleType,t.variableDiscount.days=this.overDaysCount,t.variableDiscount.onSaleValue=this.overOnSaleValue),this.rentalOccurred!=this.reservation.isTaken&&(t.isTaken=this.rentalOccurred),this.returned!=this.reservation.isReturned&&(t.isReturned=this.returned),this.notes!=this.reservation.description&&(t.description=this.notes),this.privateNotes!=this.reservation.note&&(t.note=this.privateNotes),null!=this.time||this.newTotal!=this.reservation.totalPrice){if(t.totalPrice=this.newTotal,null!=this.time){var a=this.time[0].getDate(),i=this.time[0].getMonth()+1,o=this.time[0].getFullYear(),s=this.time[1].getDate(),r=this.time[1].getMonth()+1,l=this.time[1].getFullYear();for(var n in t.startDate={},t.startDate.day=a,t.startDate.month=i,t.startDate.year=o,t.endDate={},t.endDate.day=s,t.endDate.month=r,t.endDate.year=l,this.bookingStart=a+"-"+i+"-"+o,this.bookingEnd=s+"-"+r+"-"+l,this.bookings)this.reservationId==this.bookings[n].reservationId&&(this.bookings[n].startDate.day=a,this.bookings[n].startDate.month=i,this.bookings[n].startDate.year=o,this.bookings[n].endDate.day=s,this.bookings[n].endDate.month=r,this.bookings[n].endDate.year=l,this.bookings[n].total=this.newTotal)}else for(var c in this.bookings)this.reservationId==this.bookings[c].reservationId&&(this.bookings[c].total=this.newTotal);var d={};d.bookings=this.bookings,h.saveDataProduct(this.reservation.productId,d).then((function(){}))}console.log(t),h.saveReservation(this.reservationId,t).then((function(){alert("Modifica Riuscita"),e.reservation.variablePrice=e.dailyPrice,e.reservation.fixedPrice=e.fixedPrice,e.reservation.totalPrice=e.newTotal,e.reservation.fixedDiscount.onSale=e.onSale,e.reservation.fixedDiscount.onSaleType=e.onSaleType,e.reservation.fixedDiscount.onSaleValue=e.onSaleValue,e.reservation.variableDiscount.days=e.overDaysCount,e.reservation.variableDiscount.onSale=e.overOnSale,e.reservation.variableDiscount.onSaleType=e.overOnSaleType,e.reservation.variableDiscount.onSaleValue=e.overOnSaleValue,e.reservation.isTaken=e.rentalOccurred,e.reservation.isReturned=e.returned,e.reservation.description=e.notes,e.reservation.note=e.privateNotes,e.time=null,e.boolModify=!1,e.boolDelete=!1,e.enter=!1}))},deleteReservation:function(){var e=this;this.enter=!0;var t={};for(var a in this.bookings)if(this.bookings[a].reservationId!=this.reservationId){this.bookings.splice(a,1);break}t.bookings=this.bookings,h.saveDataProduct(this.reservation.productId,t).then((function(){h.deleteReservation(e.reservationId).then((function(){e.$router.push({name:"reservationCatalog",params:{filter:""}})}))}))},changeRentalOccured:function(){this.rentalOccurred?this.rentalOccurred=!1:this.rentalOccurred=!0,this.returned=!1},changeReturned:function(){this.returned?this.returned=!1:(this.returned=!0,this.rentalOccurred=!0)},changeSale:function(){this.onSale?(this.onSale=!1,this.onSaleType=!1,this.onSaleValue=""):this.onSale=!0,this.newPrice()},changeOnSaleType:function(){this.onSaleType=!this.onSaleType,this.newPrice()},changeDailySale:function(){this.overOnSale?(this.overOnSale=!1,this.overOnSaleType=!1,this.overOnSaleValue="",this.overDaysCount=""):this.overOnSale=!0,this.newPrice()},changeType:function(){this.overOnSaleType=!this.overOnSaleType,this.newPrice()},changeData:function(){var e=new Date(this.time[0].getFullYear(),this.time[0].getMonth(),this.time[0].getDate()),t=new Date(this.time[1].getFullYear(),this.time[1].getMonth(),this.time[1].getDate());for(var a in this.bookings)if(this.bookings[a].reservationId!=this.reservationId){var i=new Date(this.bookings[a].endDate.year,this.bookings[a].endDate.month-1,this.bookings[a].endDate.day),o=new Date(this.bookings[a].startDate.year,this.bookings[a].startDate.month-1,this.bookings[a].startDate.day);e<=o&&i<=t&&(this.time=null)}this.newPrice()},newPrice:function(){var e,t,a,i,o,s,r,l;if(null!=this.time)e=this.time[0].getDate(),t=this.time[0].getMonth()+1,a=this.time[0].getFullYear(),i=this.time[1].getDate(),o=this.time[1].getMonth()+1,s=this.time[1].getFullYear(),r=1e4*a+100*t+e,l=1e4*s+100*o+i;else{var n=new Date(this.reservation.startDate.year,this.reservation.startDate.month-1,this.reservation.startDate.day),c=new Date(this.reservation.endDate.year,this.reservation.endDate.month-1,this.reservation.endDate.day);r=1e4*parseInt(n.getFullYear())+100*(parseInt(n.getMonth())+1)+parseInt(n.getDate()),l=1e4*parseInt(c.getFullYear())+100*(parseInt(c.getMonth())+1)+parseInt(c.getDate())}var d,u,m=l-r+1;d=this.onSale?this.onSaleType?this.fixedPrice-this.fixedPrice*this.onSaleValue/100:this.fixedPrice-this.onSaleValue:this.fixedPrice,this.overOnSale&&m>this.overDaysCount?(console.log("yeas"),u=this.overOnSaleType?this.dailyPrice*m-this.dailyPrice*m*this.overOnSaleValue/100:this.dailyPrice*m-this.overOnSaleValue):u=this.dailyPrice*m,console.log(m+"-"+d+"-"+u),this.newTotal=parseFloat(d)+parseFloat(u),this.newTotal<=0?this.negativePrice=!0:this.negativePrice=!1},dateDisabled:function(e){var t=new Date;if(e<t)return!0;for(var a in this.bookings)if(this.bookings[a].reservationId!=this.reservationId){var i=new Date(this.bookings[a].startDate.year,this.bookings[a].startDate.month-1,this.bookings[a].startDate.day),o=new Date(this.bookings[a].endDate.year,this.bookings[a].endDate.month-1,this.bookings[a].endDate.day);if(i<=e&&e<=o)return!0}return!1}}},ge=fe,ye=Object(y["a"])(ge,pe,he,!1,null,null,null),Ce=ye.exports,Se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-fluid d-flex justify-content-center",attrs:{id:"main"}},[a("div",{staticClass:"w-50"},[a("div",{staticClass:"input-group mb-3 mt-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.user,expression:"user"}],staticClass:"form-control",attrs:{type:"email",placeholder:"Cerca un cliente",id:"newMail","aria-label":"newMail","aria-describedby":"basic-0"},domProps:{value:e.user},on:{input:function(t){t.target.composing||(e.user=t.target.value)}}}),a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button",id:"button-addon2",placeholder:"Cerca utenti"},on:{click:e.createChart}},[e._v("Button")])]),0===e.newTotal&&e.boolChart?[a("textarea",{staticClass:"form-control",attrs:{id:"TextareaError",rows:"3",disabled:""}},[e._v("Il cliente non esiste o non ha effettuato prenotazioni")])]:e._e(),a("div",[0!==e.newTotal?a("h4",{staticClass:"mb-2 mt-3"},[e._v("Fatturato/Periodo")]):e._e(),a("canvas",{attrs:{id:"user-Chart"}}),0!==e.newTotal?a("hr"):e._e(),0!==e.newTotal?a("h4",{staticClass:"mb-2 mt-3"},[e._v("Prenotazioni per mese")]):e._e(),a("canvas",{attrs:{id:"month-Chart"}})]),0!==e.newTotal?[a("div",{staticClass:"mb-5 mt-3"},[a("h4",[e._v("Statistiche")]),a("div",{staticClass:"form-floating mb-3"},[a("input",{staticClass:"form-control",attrs:{type:"text",id:"Reservation number","aria-label":"Reservation number","aria-describedby":"basic-1",readonly:""},domProps:{value:e.price.length}}),a("label",{attrs:{for:"Reservation number"}},[e._v(" Totale noleggi")])]),a("div",{staticClass:"form-floating mb-3"},[a("input",{staticClass:"form-control",attrs:{type:"text",id:"Reservation total","aria-label":"Reservation total","aria-describedby":"basic-2",readonly:""},domProps:{value:e.newTotal+"€"}}),a("label",{attrs:{for:"Reservation total"}},[e._v(" Totale fatturato")])]),a("div",{staticClass:"form-floating mb-3"},[a("input",{staticClass:"form-control",attrs:{type:"text",id:"Reservation averagePrice","aria-label":"Reservation averagePrice","aria-describedby":"basic-3",readonly:""},domProps:{value:e.newTotal/e.price.length+"€"}}),a("label",{attrs:{for:"Reservation averagePrice"}},[e._v(" Media costo prenotazione")])]),a("div",{staticClass:"form-floating mb-3"},[a("input",{staticClass:"form-control",attrs:{type:"text",id:"Reservation averageDays","aria-label":"Reservation averageDays","aria-describedby":"basic-4",readonly:""},domProps:{value:e.totalDays/e.price.length+" giorni"}}),a("label",{attrs:{for:"Reservation averageDays"}},[e._v(" Media durata noleggio")])])])]:e._e()],2)])},ke=[],_e=(a("159b"),a("30ef")),De=a.n(_e),xe=a("6612"),Pe=a.n(xe),we={data:function(){return{user:"",userChart:null,monthChart:null,chart1:null,chart2:null,labels:[],price:[],days:[],bookings:[],monthfrequence:[],newTotal:0,totalDays:0,boolChart:!1}},mounted:function(){void 0!=this.$route.params.email&&this.createChart()},beforeDestroy:function(){this.chart&&this.chart.destroy()},methods:{createChart:function(){var e=this;this.labels=[],this.price=[],this.days=[],this.monthfrequence=[],this.newTotal=0,this.totalDays=0,null!=this.chart1&&(this.chart1.destroy(),this.chart2.destroy(),this.userChart=null,this.monthChart=null);var t="";t=""!=this.user?this.user:this.$route.params.email,console.log(t);for(var a={filter:t,sort:!1},i=0;i<12;i++)this.monthfrequence[i]=0;h.getAllReservation(a).then((function(t){if(console.log(t.data.obj),e.bookings=[],e.bookings=t.data.obj,0===e.bookings.length)e.boolChart=!0;else{e.bookings.forEach((function(t){e.labels.push(t.productTitle+t.productBrand),e.price.push(t.totalPrice),e.newTotal+=t.totalPrice;var a=1e4*t.endDate.year+100*t.endDate.month+t.endDate.day-(1e4*t.startDate.year+100*t.startDate.month+t.startDate.day)+1;e.totalDays+=a,e.days.push(a),e.monthfrequence[t.bookingDate.month-1]++})),e.userChart={type:"bar",data:{labels:e.labels,datasets:[{data:e.price,label:"Prezzo Prenotazione",borderColor:"rgba(50, 115, 220, 0.5)",backgroundColor:"rgba(50, 115, 220, 0.1)"},{data:e.days,label:"Giorni prenotazione",borderColor:"rgba(255, 56, 96, 0.5)",backgroundColor:"rgba(255, 56, 96, 0.1)"}]},options:{scales:{yAxes:[{ticks:{beginAtZero:!0,callback:function(e){return Pe()(e).format("0")}}}]}}};var a=document.getElementById("user-Chart");e.chart1=new De.a(a,e.userChart),e.monthChart={type:"bar",data:{labels:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],datasets:[{data:e.monthfrequence,label:"Prenotazioni mensili",borderColor:"rgba(255, 56, 96, 0.5)",backgroundColor:"rgba(255, 56, 96, 0.1)"}]},options:{scales:{yAxes:[{ticks:{beginAtZero:!0,callback:function(e){return Pe()(e).format("0")}}}]}}};var i=document.getElementById("month-Chart");e.chart2=new De.a(i,e.monthChart),e.boolChart=!1}}))}}},Me=we,ze=(a("c67f"),Object(y["a"])(Me,Se,ke,!1,null,"123849d4",null)),Te=ze.exports,je=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-fluid d-flex justify-content-center",attrs:{id:"main"}},[a("div",{staticClass:"w-50"},[0===e.newTotal?[a("textarea",{staticClass:"form-control",attrs:{id:"TextareaError",rows:"3",disabled:""}},[e._v("L'articolo non è mai stato prenotato")])]:e._e(),a("div",[0!==e.newTotal?a("h4",{staticClass:"mb-2 mt-3"},[e._v("Fatturato/Periodo")]):e._e(),a("canvas",{attrs:{id:"article-Chart"}}),0!==e.newTotal?a("hr"):e._e(),0!==e.newTotal?a("h4",{staticClass:"mb-2 mt-3"},[e._v("Prenotazioni per mese")]):e._e(),a("canvas",{attrs:{id:"month-Chart"}})]),0!==e.newTotal?[a("div",{staticClass:"mb-5 mt-3"},[a("h4",[e._v("Statistiche")]),a("div",{staticClass:"form-floating mb-3"},[a("input",{staticClass:"form-control",attrs:{type:"text",id:"Reservation number","aria-label":"Reservation number","aria-describedby":"basic-1",readonly:""},domProps:{value:e.price.length}}),a("label",{attrs:{for:"Reservation number"}},[e._v(" Totale noleggi")])]),a("div",{staticClass:"form-floating mb-3"},[a("input",{staticClass:"form-control",attrs:{type:"text",id:"Reservation total","aria-label":"Reservation total","aria-describedby":"basic-2",readonly:""},domProps:{value:e.newTotal+"€"}}),a("label",{attrs:{for:"Reservation total"}},[e._v(" Totale fatturato")])]),a("div",{staticClass:"form-floating mb-3"},[a("input",{staticClass:"form-control",attrs:{type:"text",id:"Reservation averagePrice","aria-label":"Reservation averagePrice","aria-describedby":"basic-3",readonly:""},domProps:{value:e.newTotal/e.price.length+"€"}}),a("label",{attrs:{for:"Reservation averagePrice"}},[e._v(" Media costo prenotazione")])]),a("div",{staticClass:"form-floating mb-3"},[a("input",{staticClass:"form-control",attrs:{type:"text",id:"Reservation averageDays","aria-label":"Reservation averageDays","aria-describedby":"basic-4",readonly:""},domProps:{value:e.totalDays/e.price.length+" giorni"}}),a("label",{attrs:{for:"Reservation averageDays"}},[e._v(" Media durata noleggio")])])])]:e._e()],2)])},Oe=[],Ne={data:function(){return{articleChart:null,monthChart:null,labels:[],price:[],days:[],monthfrequence:[],newTotal:0,totalDays:0}},mounted:function(){for(var e=this,t=0;t<12;t++)this.monthfrequence[t]=0;h.getProduct(this.$route.params.id).then((function(t){console.log(t.data.data.obj),t.data.data.obj.bookings.forEach((function(t){e.labels.push(t.clientId),e.price.push(t.total),e.newTotal+=t.total;var a=1e4*t.endDate.year+100*t.endDate.month+t.endDate.day-(1e4*t.startDate.year+100*t.startDate.month+t.startDate.day)+1;e.totalDays+=a,e.days.push(a),e.monthfrequence[t.startDate.month-1]++})),e.articleChart={type:"bar",data:{labels:e.labels,datasets:[{data:e.price,label:"Prezzo Prenotazione",borderColor:"rgba(50, 115, 220, 0.5)",backgroundColor:"rgba(50, 115, 220, 0.1)"},{data:e.days,label:"Giorni prenotazione",borderColor:"rgba(255, 56, 96, 0.5)",backgroundColor:"rgba(255, 56, 96, 0.1)"}]},options:{scales:{yAxes:[{ticks:{beginAtZero:!0,callback:function(e){return Pe()(e).format("0")}}}]}}};var a=document.getElementById("article-Chart");new De.a(a,e.articleChart),e.monthChart={type:"bar",data:{labels:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],datasets:[{data:e.monthfrequence,label:"Prenotazioni mensili",borderColor:"rgba(255, 56, 96, 0.5)",backgroundColor:"rgba(255, 56, 96, 0.1)"}]},options:{scales:{yAxes:[{ticks:{beginAtZero:!0,callback:function(e){return Pe()(e).format("0")}}}]}}};var i=document.getElementById("month-Chart");new De.a(i,e.monthChart)}),(function(t){alert("La pagina non esiste"),e.$router.push({name:"home"})}))},beforeDestroy:function(){this.chart&&this.chart.destroy()}},Ve=Ne,Ie=(a("1351"),Object(y["a"])(Ve,je,Oe,!1,null,"23b6ca3c",null)),qe=Ie.exports,Ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-fluid d-flex justify-content-center",attrs:{id:"main"}},[a("div",{staticClass:"w-50"},[a("div",{staticClass:"input-group mb-3 mt-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.tag,expression:"tag"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Cerca una categoria",id:"newTag","aria-label":"newMail"},domProps:{value:e.tag},on:{input:function(t){t.target.composing||(e.tag=t.target.value)}}}),a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button",id:"button-addon2",placeholder:"Cerca utenti"},on:{click:e.createChart}},[e._v("Button")])]),0===e.newTotal&&e.boolChart?[a("textarea",{staticClass:"form-control",attrs:{id:"TextareaError",rows:"3",disabled:""}},[e._v("Il cliente non esiste o non ha effettuato prenotazioni")])]:e._e(),a("div",[0!==e.newTotal?a("h4",{staticClass:"mb-2 mt-3"},[e._v("Fatturato/Periodo")]):e._e(),a("canvas",{attrs:{id:"catalog-Chart"}}),0!==e.newTotal?a("hr"):e._e(),0!==e.newTotal?a("h4",{staticClass:"mb-2 mt-3"},[e._v("Prenotazioni per mese")]):e._e(),a("canvas",{attrs:{id:"month-Chart"}})]),0!==e.newTotal?[a("div",{staticClass:"mb-5 mt-3"},[a("h4",[e._v("Statistiche")]),a("div",{staticClass:"form-floating mb-3"},[a("input",{staticClass:"form-control",attrs:{type:"text",id:"Reservation number","aria-label":"Reservation number","aria-describedby":"basic-1",readonly:""},domProps:{value:e.price.length}}),a("label",{attrs:{for:"Reservation number"}},[e._v(" Totale noleggi")])]),a("div",{staticClass:"form-floating mb-3"},[a("input",{staticClass:"form-control",attrs:{type:"text",id:"Reservation total","aria-label":"Reservation total","aria-describedby":"basic-2",readonly:""},domProps:{value:e.newTotal+"€"}}),a("label",{attrs:{for:"Reservation total"}},[e._v(" Totale fatturato")])]),a("div",{staticClass:"form-floating mb-3"},[a("input",{staticClass:"form-control",attrs:{type:"text",id:"Reservation averagePrice","aria-label":"Reservation averagePrice","aria-describedby":"basic-3",readonly:""},domProps:{value:e.newTotal/e.price.length+"€"}}),a("label",{attrs:{for:"Reservation averagePrice"}},[e._v(" Media costo prenotazione")])]),a("div",{staticClass:"form-floating mb-3"},[a("input",{staticClass:"form-control",attrs:{type:"text",id:"Reservation averageDays","aria-label":"Reservation averageDays","aria-describedby":"basic-4",readonly:""},domProps:{value:e.totalDays/e.price.length+" giorni"}}),a("label",{attrs:{for:"Reservation averageDays"}},[e._v(" Media durata noleggio")])])])]:e._e()],2)])},Ae=[],Re={data:function(){return{tag:"",catalogChart:null,monthChart:null,chart1:null,chart2:null,labels:[],price:[],days:[],monthfrequence:[],reservationCount:0,newTotal:0,totalDays:0,boolChart:!1}},mounted:function(){this.createChart()},beforeDestroy:function(){this.chart&&this.chart.destroy()},methods:{createChart:function(){var e=this;this.labels=[],this.price=[],this.days=[],this.monthfrequence=[],this.newTotal=0,this.totalDays=0,null!=this.chart1&&(this.chart1.destroy(),this.chart2.destroy(),this.catalogChart=null,this.monthChart=null);var t="";""!=this.tag&&(t=this.tag);for(var a={filter:t,sort:!1},i=0;i<12;i++)this.monthfrequence[i]=0;""!=this.tag&&h.getTags(this.tag).then((function(e){console.log(e)})),h.getAllProduct(a).then((function(t){if(console.log(t.data.data),0===t.data.data.length)e.boolChart=!0;else{t.data.data.forEach((function(t){var a=0,i=0;e.labels.push(t.title+t.brand),t.bookings.forEach((function(t){e.reservationCount++,a+=t.total;var o=1e4*t.endDate.year+100*t.endDate.month+t.endDate.day-(1e4*t.startDate.year+100*t.startDate.month+t.startDate.day)+1;i+=o,e.monthfrequence[t.startDate.month-1]++})),e.newTotal+=a,e.totalDays+=i,e.price.push(a),e.days.push(i)})),e.catalogChart={type:"bar",data:{labels:e.labels,datasets:[{data:e.price,label:"Prezzo Prenotazione",borderColor:"rgba(50, 115, 220, 0.5)",backgroundColor:"rgba(50, 115, 220, 0.1)"},{data:e.days,label:"Giorni prenotazione",borderColor:"rgba(255, 56, 96, 0.5)",backgroundColor:"rgba(255, 56, 96, 0.1)"}]},options:{scales:{yAxes:[{ticks:{beginAtZero:!0,callback:function(e){return Pe()(e).format("0")}}}]}}};var a=document.getElementById("catalog-Chart");e.chart1=new De.a(a,e.catalogChart),e.monthChart={type:"bar",data:{labels:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],datasets:[{data:e.monthfrequence,label:"Prenotazioni mensili",borderColor:"rgba(255, 56, 96, 0.5)",backgroundColor:"rgba(255, 56, 96, 0.1)"}]},options:{scales:{yAxes:[{ticks:{beginAtZero:!0,callback:function(e){return Pe()(e).format("0")}}}]}}};var i=document.getElementById("month-Chart");e.chart2=new De.a(i,e.monthChart),e.boolChart=!1}}))}}},$e=Re,Fe=(a("975e"),Object(y["a"])($e,Ee,Ae,!1,null,"c30514f6",null)),Be=Fe.exports;i["default"].use(k["a"]);var Le=new k["a"]({mode:"hash",routes:[{path:"/",name:"home",component:M},{path:"/articleCatalog:filter",name:"articleCatalog",component:M},{path:"/clientCatalog:filter",name:"clientCatalog",component:V},{path:"/reservationCatalog:filter",name:"reservationCatalog",component:$},{path:"/createArticle",name:"createArticle",component:Z},{path:"/createReservation:id",name:"createReservation",component:ee},{path:"/article:id",name:"article",component:re},{path:"/client:email",name:"client",component:be},{path:"/reservation:id",name:"reservation",component:Ce},{path:"/chartClient",name:"clientChart",component:Te},{path:"/chartArticle:id",name:"chartArticle",component:qe},{path:"/chartCatalog",name:"chartCatalog",component:Be}]}),Ye=a("5f5b"),Ge=a("b1e0");a("f9e3"),a("2dd8");i["default"].use(s.a),i["default"].use(Ye["a"]),i["default"].use(Ge["a"]),i["default"].use(Ge["b"]),i["default"].config.productionTip=!1,new i["default"]({router:Le,render:function(e){return e(S)}}).$mount("#app")},7859:function(e,t,a){},"7a39":function(e,t,a){},"85ec":function(e,t,a){},"8d0e":function(e,t,a){"use strict";a("de78")},"975e":function(e,t,a){"use strict";a("7859")},"9bc3":function(e,t,a){},b91a:function(e,t,a){},b968:function(e,t,a){},c67f:function(e,t,a){"use strict";a("7a39")},d0aa:function(e,t,a){"use strict";a("53dd")},db49:function(e,t){var a={site202131Url:"http://localhost:8081"};e.exports=a},de78:function(e,t,a){},e7d1:function(e,t,a){"use strict";a("b968")}});
//# sourceMappingURL=app.2576224a.js.map